{
  if (focusedElement != focus && !focus.isParentOf(focusedElement)) {
    if (focus == null && focusedElement != this) {
      return;
    }
    if (focusedElement != null) {
      focusedElement.notifyFocusListeners(false);
    }
    focusedElement=focus;
    if (focusedElement != null) {
      focusedElement.notifyFocusListeners(true);
    }
  }
}
