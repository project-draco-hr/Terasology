{
  JPopupMenu.setDefaultLightWeightPopupEnabled(false);
  try {
    for (    UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
      if ("Nimbus".equals(info.getName())) {
        UIManager.setLookAndFeel(info.getClassName());
        break;
      }
    }
  }
 catch (  Exception e) {
    logger.warn("Failed to set look and feel to Nimbus",e);
  }
  LwjglCustomViewPort lwjglCustomViewPort=new LwjglCustomViewPort();
  Deque<EngineSubsystem> subsystemList=new ArrayDeque<EngineSubsystem>(Arrays.asList(new EngineSubsystem[]{new LwjglGraphics(),new LwjglTimer(),new LwjglAudio(),new LwjglInput(),lwjglCustomViewPort}));
  engine=new TerasologyEngine(subsystemList);
  mainWindow=new MainWindow(this);
  lwjglCustomViewPort.setCustomViewport(mainWindow.getViewport());
  try {
    PathManager.getInstance().useDefaultHomePath();
    engine.setHibernationAllowed(false);
    engine.subscribeToStateChange(mainWindow);
    engine.init();
    engine.run(new StateMainMenu());
    engine.dispose();
  }
 catch (  Throwable t) {
    logger.error("Uncaught Exception",t);
  }
  System.exit(0);
}
