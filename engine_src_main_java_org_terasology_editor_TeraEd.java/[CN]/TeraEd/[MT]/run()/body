{
  JPopupMenu.setDefaultLightWeightPopupEnabled(false);
  try {
    for (    UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
      if ("Nimbus".equals(info.getName())) {
        UIManager.setLookAndFeel(info.getClassName());
        break;
      }
    }
  }
 catch (  Exception e) {
    logger.warn("Failed to set look and feel to Nimbus",e);
  }
  try {
    LwjglCustomViewPort lwjglCustomViewPort=new LwjglCustomViewPort();
    Collection<EngineSubsystem> subsystemList=Lists.<EngineSubsystem>newArrayList(new LwjglGraphics(),new LwjglTimer(),new LwjglAudio(),new LwjglInput(),lwjglCustomViewPort);
    PathManager.getInstance().useDefaultHomePath();
    engine=new TerasologyEngine(subsystemList);
    sceneProperties=new SceneProperties(engine);
    mainWindow=new MainWindow(this,engine);
    lwjglCustomViewPort.setCustomViewport(mainWindow.getViewport());
    engine.setHibernationAllowed(false);
    engine.subscribeToStateChange(mainWindow);
    engine.run(new StateMainMenu());
  }
 catch (  Throwable t) {
    logger.error("Uncaught Exception",t);
  }
}
