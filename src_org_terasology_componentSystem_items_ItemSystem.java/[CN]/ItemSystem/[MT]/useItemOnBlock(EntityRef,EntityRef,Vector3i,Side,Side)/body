{
  ItemComponent itemComp=item.getComponent(ItemComponent.class);
  if (itemComp == null)   return;
  BlockItemComponent blockItem=item.getComponent(BlockItemComponent.class);
  if (blockItem != null) {
    if (placeBlock(blockItem.blockGroup,targetBlock,surfaceDirection,secondaryDirection)) {
      itemComp.stackCount--;
      if (itemComp.stackCount == 0) {
        item.destroy();
      }
    }
  }
 else {
    EntityRef targetEntity=blockEntityLookup.getOrCreateEntityAt(targetBlock);
    item.send(new ActivateEvent(targetEntity,user));
    checkConsumeItem(item,itemComp);
  }
}
