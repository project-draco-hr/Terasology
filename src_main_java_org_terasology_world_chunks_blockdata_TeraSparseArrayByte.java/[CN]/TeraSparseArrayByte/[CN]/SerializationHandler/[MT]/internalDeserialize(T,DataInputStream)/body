{
  Preconditions.checkState(array.inflated == null,"The internal array 'inflated' of type 'byte[][]' is expected to be null");
  Preconditions.checkState(array.deflated == null,"The internal array 'deflated' of type 'byte[]' is expected to be null");
  if (in.readBoolean()) {
    final int sizeY=array.getSizeY();
    final int rowlen=array.rowSize();
    final byte[][] inflated=array.inflated=new byte[sizeY][];
    final int rows=in.readInt();
    for (int i=0; i < rows; i++) {
      final int index=in.readInt();
      final byte[] row=inflated[index]=new byte[rowlen];
      for (int j=0; j < rowlen; j++) {
        row[j]=in.readByte();
      }
    }
    final byte[] deflated=array.deflated=new byte[sizeY];
    for (int i=0; i < sizeY; i++) {
      deflated[i]=in.readByte();
    }
  }
 else {
    array.fill=in.readByte();
  }
}
