{
  EntityRef blockEntity=getBlockEntityAt(blockPosition);
  if (!blockEntity.exists()) {
    Block block=getBlock(blockPosition.x,blockPosition.y,blockPosition.z);
    blockEntity=entityManager.create(block.getEntityPrefab());
    if (block.getEntityMode() == BlockEntityMode.ON_INTERACTION) {
      tempBlocks.add(blockEntity);
    }
    setupBlockEntity(blockPosition,blockEntity,block);
  }
  return blockEntity;
}
