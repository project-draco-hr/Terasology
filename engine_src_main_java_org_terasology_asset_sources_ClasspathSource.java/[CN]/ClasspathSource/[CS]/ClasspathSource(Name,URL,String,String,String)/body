{
  try {
    Path codePath=Paths.get(sourceUrl.toURI());
    if (Files.isRegularFile(codePath)) {
      source=new ArchiveSource(id,codePath.toFile(),baseAssetsPath,baseOverridesPath,baseDeltasPath);
    }
 else {
      source=new DirectorySource(id,codePath.resolve(baseAssetsPath),codePath.resolve(baseOverridesPath),codePath.resolve(baseDeltasPath));
    }
  }
 catch (  Throwable e) {
    throw new IllegalStateException("Error loading assets: " + e.getMessage(),e);
  }
}
