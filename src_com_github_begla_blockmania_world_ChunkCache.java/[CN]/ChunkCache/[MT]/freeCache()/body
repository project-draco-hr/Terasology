{
  if (_chunkCache.size() <= capacity()) {
    return;
  }
  FastList<Chunk> cachedChunks;
synchronized (this) {
    cachedChunks=new FastList<Chunk>(_chunkCache.values());
  }
  Collections.sort(cachedChunks);
  for (int i=0; i < 32 && _chunkCache.size() > capacity(); i++) {
    Chunk chunkToDelete=cachedChunks.removeLast();
synchronized (this) {
      _chunkCache.remove(chunkToDelete.getChunkId());
      chunkToDelete.setCached(false);
    }
    chunkToDelete.writeChunkToDisk();
    chunkToDelete.disposeChunk();
  }
}
