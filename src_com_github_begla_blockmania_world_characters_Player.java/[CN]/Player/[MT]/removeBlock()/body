{
  if (getParent() != null) {
    RayBlockIntersection.Intersection is=calcSelectedBlock();
    if (is != null) {
      BlockPosition blockPos=is.getBlockPosition();
      byte currentBlockType=getParent().getWorldProvider().getBlock(blockPos.x,blockPos.y,blockPos.z);
      getParent().getWorldProvider().setBlock(blockPos.x,blockPos.y,blockPos.z,(byte)0x0,true,true);
      byte upperBlockType=getParent().getWorldProvider().getBlock(blockPos.x,blockPos.y + 1,blockPos.z);
      if (BlockManager.getInstance().getBlock(upperBlockType).getBlockForm() == Block.BLOCK_FORM.BILLBOARD) {
        getParent().getWorldProvider().setBlock(blockPos.x,blockPos.y + 1,blockPos.z,(byte)0x0,true,true);
      }
      _parent.getBlockParticleEmitter().setOrigin(blockPos.toVector3f());
      _parent.getBlockParticleEmitter().emitParticles(256,currentBlockType);
      AudioManager.getInstance().getAudio("RemoveBlock").playAsSoundEffect(0.6f + (float)MathHelper.fastAbs(_parent.getWorldProvider().getRandom().randomDouble()) * 0.2f,0.5f + (float)MathHelper.fastAbs(_parent.getWorldProvider().getRandom().randomDouble()) * 0.3f,false);
      int chunkPosX=MathHelper.calcChunkPosX(blockPos.x);
      int chunkPosZ=MathHelper.calcChunkPosZ(blockPos.z);
      notifyObserversBlockChanged(_parent.getWorldProvider().getChunkProvider().loadOrCreateChunk(chunkPosX,chunkPosZ),blockPos);
    }
  }
}
