{
  if (overwriteRtWidth == 0) {
    fullScale=new Dimensions(Display.getWidth(),Display.getHeight());
  }
 else {
    fullScale=new Dimensions(overwriteRtWidth,overwriteRtHeight);
    if (renderingConfig.isOculusVrSupport()) {
      fullScale.multiplySelfBy(OculusVrHelper.getScaleFactor());
    }
  }
  fullScale.multiplySelfBy(renderingConfig.getFboScale() / 100f);
  halfScale=fullScale.dividedBy(2);
  quarterScale=fullScale.dividedBy(4);
  one8thScale=fullScale.dividedBy(8);
  one16thScale=fullScale.dividedBy(16);
  one32thScale=fullScale.dividedBy(32);
  FBO scene=fboLookup.get("sceneOpaque");
  final boolean recreate=scene == null || (scene.dimensions().areDifferentFrom(fullScale));
  if (!recreate) {
    return;
  }
  int shadowMapResolution=renderingConfig.getShadowMapResolution();
  FBO sceneShadowMap=new FBObuilder("sceneShadowMap",shadowMapResolution,shadowMapResolution,FBO.Type.NO_COLOR).useDepthBuffer().build();
  graphicState.setSceneShadowMap(sceneShadowMap);
  FBO sceneOpaque=new FBObuilder("sceneOpaque",fullScale,FBO.Type.HDR).useDepthBuffer().useNormalBuffer().useLightBuffer().useStencilBuffer().build();
  new FBObuilder("sceneOpaquePingPong",fullScale,FBO.Type.HDR).useDepthBuffer().useNormalBuffer().useLightBuffer().useStencilBuffer().build();
  new FBObuilder("sceneSkyBand0",one16thScale,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneSkyBand1",one32thScale,FBO.Type.DEFAULT).build();
  FBO sceneReflectiveRefractive=new FBObuilder("sceneReflectiveRefractive",fullScale,FBO.Type.HDR).useNormalBuffer().build();
  sceneOpaque.attachDepthBufferTo(sceneReflectiveRefractive);
  new FBObuilder("sceneReflected",halfScale,FBO.Type.DEFAULT).useDepthBuffer().build();
  new FBObuilder("outline",fullScale,FBO.Type.DEFAULT).build();
  new FBObuilder("ssao",fullScale,FBO.Type.DEFAULT).build();
  new FBObuilder("ssaoBlurred",fullScale,FBO.Type.DEFAULT).build();
  new FBObuilder("lightShafts",halfScale,FBO.Type.DEFAULT).build();
  new FBObuilder("initialPost",fullScale,FBO.Type.HDR).build();
  new FBObuilder("sceneToneMapped",fullScale,FBO.Type.HDR).build();
  new FBObuilder("sceneHighPass",fullScale,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBloom0",halfScale,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBloom1",quarterScale,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBloom2",one8thScale,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBlur0",halfScale,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBlur1",halfScale,FBO.Type.DEFAULT).build();
  new FBObuilder("ocUndistorted",fullScale,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneFinal",fullScale,FBO.Type.DEFAULT).build();
  graphicState.refreshDynamicFBOs();
  postProcessor.refreshDynamicFBOs();
}
