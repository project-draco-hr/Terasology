{
  rtFullWidth=overwriteRtWidth;
  rtFullHeight=overwriteRtHeight;
  if (overwriteRtWidth == 0) {
    rtFullWidth=org.lwjgl.opengl.Display.getWidth();
  }
  if (overwriteRtHeight == 0) {
    rtFullHeight=org.lwjgl.opengl.Display.getHeight();
  }
  rtFullWidth*=renderingConfig.getFboScale() / 100f;
  rtFullHeight*=renderingConfig.getFboScale() / 100f;
  if (renderingConfig.isOculusVrSupport()) {
    if (overwriteRtWidth == 0) {
      rtFullWidth*=OculusVrHelper.getScaleFactor();
    }
    if (overwriteRtHeight == 0) {
      rtFullHeight*=OculusVrHelper.getScaleFactor();
    }
  }
  rtWidth2=rtFullWidth / 2;
  rtHeight2=rtFullHeight / 2;
  rtWidth4=rtWidth2 / 2;
  rtHeight4=rtHeight2 / 2;
  rtWidth8=rtWidth4 / 2;
  rtHeight8=rtHeight4 / 2;
  rtWidth16=rtHeight8 / 2;
  rtHeight16=rtWidth8 / 2;
  rtWidth32=rtHeight16 / 2;
  rtHeight32=rtWidth16 / 2;
  FBO scene=fboLookup.get("sceneOpaque");
  final boolean recreate=scene == null || (scene.width() != rtFullWidth || scene.height() != rtFullHeight);
  if (!recreate) {
    return;
  }
  int shadowMapResolution=renderingConfig.getShadowMapResolution();
  new FBObuilder("sceneShadowMap",shadowMapResolution,shadowMapResolution,FBO.Type.NO_COLOR).useDepthBuffer().build();
  FBO sceneOpaque=new FBObuilder("sceneOpaque",rtFullWidth,rtFullHeight,FBO.Type.HDR).useDepthBuffer().useNormalBuffer().useLightBuffer().useStencilBuffer().build();
  new FBObuilder("sceneOpaquePingPong",rtFullWidth,rtFullHeight,FBO.Type.HDR).useDepthBuffer().useNormalBuffer().useLightBuffer().useStencilBuffer().build();
  new FBObuilder("sceneSkyBand0",rtWidth16,rtHeight16,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneSkyBand1",rtWidth32,rtHeight32,FBO.Type.DEFAULT).build();
  FBO sceneReflectiveRefractive=new FBObuilder("sceneReflectiveRefractive",rtFullWidth,rtFullHeight,FBO.Type.HDR).useNormalBuffer().build();
  sceneOpaque.attachDepthBufferTo(sceneReflectiveRefractive);
  new FBObuilder("sceneReflected",rtWidth2,rtHeight2,FBO.Type.DEFAULT).useDepthBuffer().build();
  new FBObuilder("sobel",rtFullWidth,rtFullHeight,FBO.Type.DEFAULT).build();
  new FBObuilder("ssao",rtFullWidth,rtFullHeight,FBO.Type.DEFAULT).build();
  new FBObuilder("ssaoBlurred",rtFullWidth,rtFullHeight,FBO.Type.DEFAULT).build();
  new FBObuilder("scenePrePost",rtFullWidth,rtFullHeight,FBO.Type.HDR).build();
  new FBObuilder("lightShafts",rtWidth2,rtHeight2,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneToneMapped",rtFullWidth,rtFullHeight,FBO.Type.HDR).build();
  new FBObuilder("sceneHighPass",rtFullWidth,rtFullHeight,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBloom0",rtWidth2,rtHeight2,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBloom1",rtWidth4,rtHeight4,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBloom2",rtWidth8,rtHeight8,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBlur0",rtWidth2,rtHeight2,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneBlur1",rtWidth2,rtHeight2,FBO.Type.DEFAULT).build();
  new FBObuilder("ocUndistorted",rtFullWidth,rtFullHeight,FBO.Type.DEFAULT).build();
  new FBObuilder("sceneFinal",rtFullWidth,rtFullHeight,FBO.Type.DEFAULT).build();
}
