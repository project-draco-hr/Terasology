{
  if (event.getItem().exists()) {
    if (!character.equals(event.getItem().getOwner())) {
      return;
    }
  }
  LocationComponent location=character.getComponent(LocationComponent.class);
  CharacterComponent characterComponent=character.getComponent(CharacterComponent.class);
  Vector3f direction=characterComponent.getLookDirection();
  Vector3f originPos=location.getWorldPosition();
  originPos.y+=characterComponent.eyeOffset;
  HitResult result=physics.rayTrace(originPos,direction,characterComponent.interactionRange,filter);
  if (result.isHit()) {
    int damage=1;
    Prefab damageType=EngineDamageTypes.PHYSICAL.get();
    ItemComponent item=event.getItem().getComponent(ItemComponent.class);
    if (item != null) {
      damage=item.baseDamage;
      if (item.damageType != null) {
        damageType=item.damageType;
      }
    }
    result.getEntity().send(new DoDamageEvent(damage,damageType,character,event.getItem()));
  }
}
