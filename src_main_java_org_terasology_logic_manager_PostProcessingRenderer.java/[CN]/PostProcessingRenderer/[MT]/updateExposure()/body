{
  long currentTime=CoreRegistry.get(Timer.class).getTimeInMs();
  if (CoreRegistry.get(Timer.class).getTimeInMs() - lastExposureUpdate < 1000)   return;
  lastExposureUpdate=currentTime;
  FloatBuffer pixels=BufferUtils.createFloatBuffer(4);
  FBO scene=PostProcessingRenderer.getInstance().getFBO("scene1");
  scene.bindTexture();
  glGetTexImage(GL11.GL_TEXTURE_2D,0,GL11.GL_RGBA,GL11.GL_FLOAT,pixels);
  scene.unbindTexture();
  float lum=0.2126f * pixels.get(0) + 0.7152f * pixels.get(1) + 0.0722f * pixels.get(2);
  if (lum > 0.0f)   _exposure=(float)TeraMath.lerp(_exposure,TARGET_LUMINANCE / lum,ADJUSTMENT_SPEED);
  float maxExposure=MAX_EXPOSURE;
  if (CoreRegistry.get(WorldRenderer.class).getSkysphere().getDaylight() == 0.0)   maxExposure=MAX_EXPOSURE_NIGHT;
  if (_exposure > maxExposure)   _exposure=maxExposure;
  if (_exposure < MIN_EXPOSURE)   _exposure=MIN_EXPOSURE;
}
