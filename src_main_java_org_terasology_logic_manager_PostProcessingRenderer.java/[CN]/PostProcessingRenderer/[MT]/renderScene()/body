{
  if (!_extensionsAvailable) {
    return;
  }
  if (config.getRendering().isBloom()) {
    generateDownsampledScene();
    generateTonemappedScene();
    generateHighPass();
    for (int i=0; i < 2; i++) {
      generateBloom(i);
      if (config.getRendering().getBlurIntensity() != 0) {
        generateBlur(i);
      }
    }
    renderFinalScene();
    updateExposure();
  }
 else {
    PostProcessingRenderer.FBO scene=PostProcessingRenderer.getInstance().getFBO("scene");
    ShaderManager.getInstance().enableDefaultTextured();
    scene.bindTexture();
    renderFullQuad();
  }
  createOrUpdateFullscreenFbos();
}
