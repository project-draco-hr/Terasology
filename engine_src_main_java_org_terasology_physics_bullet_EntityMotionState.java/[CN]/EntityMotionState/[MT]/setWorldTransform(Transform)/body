{
  LocationComponent loc=entity.getComponent(LocationComponent.class);
  if (loc != null) {
    javax.vecmath.Quat4f rot=new javax.vecmath.Quat4f();
    transform.getRotation(rot);
    if (!transform.origin.equals(VecMath.to(loc.getWorldPosition())) || !rot.equals(VecMath.to(loc.getWorldRotation()))) {
      loc.setWorldPosition(VecMath.from(transform.origin));
      loc.setWorldRotation(VecMath.from(transform.getRotation(new javax.vecmath.Quat4f())));
      entity.saveComponent(loc);
    }
  }
}
