{
  boolean pregenerationIsComplete=true;
  chunkProvider.completeUpdate();
  chunkProvider.beginUpdate();
  RenderableChunk chunk;
  ChunkMesh[] newMesh;
  ChunkView localView;
  for (  Vector3i chunkCoordinates : calculateRenderableRegion(renderingConfig.getViewDistance())) {
    chunk=chunkProvider.getChunk(chunkCoordinates);
    if (chunk == null) {
      pregenerationIsComplete=false;
    }
 else     if (chunk.isDirty()) {
      localView=worldProvider.getLocalView(chunkCoordinates);
      if (localView == null) {
        continue;
      }
      chunk.setDirty(false);
      newMesh=new ChunkMesh[VERTICAL_SEGMENTS];
      for (int segment=0; segment < VERTICAL_SEGMENTS; segment++) {
        newMesh[segment]=chunkTessellator.generateMesh(localView,CHUNK_YSIZE_TO_SEGMENTS_RATIO,segment * CHUNK_YSIZE_TO_SEGMENTS_RATIO);
        newMesh[segment].generateVBOs();
      }
      if (chunk.hasMesh()) {
        for (        ChunkMesh mesh : chunk.getMesh()) {
          mesh.dispose();
        }
      }
      chunk.setMesh(newMesh);
      pregenerationIsComplete=false;
      return pregenerationIsComplete;
    }
  }
  return pregenerationIsComplete;
}
