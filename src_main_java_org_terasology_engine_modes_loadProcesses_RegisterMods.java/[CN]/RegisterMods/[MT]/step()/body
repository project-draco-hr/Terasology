{
  ModuleManager moduleManager=CoreRegistry.get(ModuleManager.class);
  moduleManager.disableAllModules();
  for (  ModuleIdentifier moduleId : gameManifest.getModules()) {
    Module module=moduleManager.getLatestModuleVersion(moduleId.getId());
    if (module != null) {
      moduleManager.enableModule(module);
    }
 else {
      CoreRegistry.get(GameEngine.class).changeState(new StateMainMenu("Missing required module: " + moduleId));
      return true;
    }
  }
  moduleManager.applyActiveModules();
  AssetManager assetManager=CoreRegistry.get(AssetManager.class);
  assetManager.clear();
  assetManager.applyOverrides();
  return true;
}
