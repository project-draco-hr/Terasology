{
  ModuleManager moduleManager=CoreRegistry.get(ModuleManager.class);
  for (  Module module : moduleManager.getMods()) {
    module.setEnabled(false);
  }
  for (  String modName : gameManifest.getModConfiguration().listMods()) {
    Module module=moduleManager.getMod(modName);
    if (module != null) {
      module.setEnabled(true);
    }
 else {
      CoreRegistry.get(GameEngine.class).changeState(new StateMainMenu("Missing required module: " + modName));
    }
  }
  moduleManager.applyActiveMods();
  AssetManager.getInstance().clear();
  AssetManager.getInstance().applyOverrides();
  return true;
}
