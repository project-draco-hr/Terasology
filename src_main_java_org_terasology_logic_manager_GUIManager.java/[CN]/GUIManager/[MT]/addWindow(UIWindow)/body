{
  if (window != null) {
    logger.debug("Added window with ID \"{}\"",window.getId());
    renderer.addDisplayElementToPosition(0,window);
    window.initialise();
    for (    EntityRef worldEntity : CoreRegistry.get(EntityManager.class).listEntitiesWith(WorldComponent.class)) {
      worldEntity.send(new UIWindowOpenedEvent(window));
    }
  }
  return window;
}
