{
  super.update();
  updateHealthBar(localPlayer.getCharacterEntity().getComponent(HealthComponent.class));
  updateBreathBar(localPlayer.getCharacterEntity().getComponent(DrownsComponent.class),localPlayer.getCharacterEntity().getComponent(DrowningComponent.class));
  CharacterComponent character=localPlayer.getCharacterEntity().getComponent(CharacterComponent.class);
  if (character == null) {
    toolbar.setVisible(false);
    leftGearWheel.setVisible(false);
    rightGearWheel.setVisible(false);
  }
 else {
    toolbar.setVisible(true);
    toolbar.linkToEntity(CoreRegistry.get(LocalPlayer.class).getCharacterEntity(),0,10);
    toolbar.setSelected(character.selectedItem);
    leftGearWheel.setVisible(true);
    rightGearWheel.setVisible(true);
  }
  boolean enableDebug=config.getSystem().isDebugEnabled();
  debugLine1.setVisible(enableDebug);
  debugLine2.setVisible(enableDebug);
  debugLine3.setVisible(enableDebug);
  debugLine4.setVisible(enableDebug);
  if (enableDebug) {
    CameraTargetSystem cameraTarget=CoreRegistry.get(CameraTargetSystem.class);
    double memoryUsage=((double)Runtime.getRuntime().totalMemory() - (double)Runtime.getRuntime().freeMemory()) / 1048576.0;
    debugLine1.setText(String.format("fps: %.2f, mem usage: %.2f MB, total mem: %.2f, max mem: %.2f",time.getFps(),memoryUsage,Runtime.getRuntime().totalMemory() / 1048576.0,Runtime.getRuntime().maxMemory() / 1048576.0));
    if (entityManager != null) {
      debugLine2.setText(String.format("Active Entities: %s, Current Target: %s",entityManager.getActiveEntityCount(),cameraTarget.toString()));
    }
    debugLine3.setText(String.format("%s, %.2f",CoreRegistry.get(LocalPlayer.class).getPosition(),(character != null) ? character.yaw : 0));
    debugLine4.setText(String.format("total vus: %s | active threads: %s | worldTime: %.2f",ChunkTessellator.getVertexArrayUpdateCount(),CoreRegistry.get(GameEngine.class).getActiveTaskCount(),CoreRegistry.get(WorldProvider.class).getTime().getDays()));
  }
}
