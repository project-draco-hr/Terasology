{
  try (DirectoryStream<Path> stream=Files.newDirectoryStream(deltaDirectory)){
    for (    Path child : stream) {
      if (Files.isDirectory(child)) {
        scanDeltas(child,basePath);
      }
 else       if (Files.isRegularFile(child)) {
        Path relativePath=basePath.relativize(child);
        Path modulePath=relativePath.subpath(0,1);
        AssetUri uri=getUri(modulePath.toString(),modulePath.relativize(relativePath));
        if (uri != null) {
          try {
            setDelta(uri,child.toUri().toURL());
          }
 catch (          MalformedURLException e) {
            logger.warn("Failed to load delta {}",child,e.getMessage());
          }
        }
      }
    }
  }
 catch (  IOException e) {
    logger.error("Failed to scan delta path: {}",deltaDirectory,e);
  }
}
