{
  ComponentMetadata<? extends Component> metadata=entitySystemLibrary.getComponentLibrary().getMetadata(component);
  NetworkComponent netComp=entity.getComponent(NetworkComponent.class);
  if (netComp != null && netComp.getNetworkId() != NULL_NET_ID) {
switch (mode) {
case SERVER:
      if (metadata.isReplicated()) {
        for (        NetClient client : netClientList) {
          logger.info("Component {} removed from {}",component,entity);
          client.setComponentRemoved(netComp.getNetworkId(),component);
        }
      }
    break;
}
}
if (mode.isAuthority() && metadata.isReferenceOwner()) {
for (EntityRef ownedEntity : ownershipHelper.listOwnedEntities(entity.getComponent(component))) {
  ownedEntity.destroy();
}
}
}
