{
  ChunkMesh[] newMeshes=new ChunkMesh[WorldRenderer.VERTICAL_SEGMENTS];
  ChunkViewCore chunkView=worldProvider.getLocalView(c.getPos());
  if (chunkView != null) {
    c.setDirty(false);
    for (int seg=0; seg < WorldRenderer.VERTICAL_SEGMENTS; seg++) {
      int meshHeight=ChunkConstants.SIZE_Y / WorldRenderer.VERTICAL_SEGMENTS;
      newMeshes[seg]=tessellator.generateMesh(chunkView,c.getPos(),meshHeight,seg * (ChunkConstants.SIZE_Y / WorldRenderer.VERTICAL_SEGMENTS));
    }
    c.setPendingMesh(newMeshes);
    ChunkMonitor.fireChunkTessellated(c.getPos(),newMeshes);
  }
  chunkUpdateManager.finishedProcessing(c);
  c=null;
  tessellator=null;
  worldProvider=null;
}
