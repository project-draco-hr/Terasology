{
  ChunkMesh[] newMeshes=new ChunkMesh[WorldRenderer.VERTICAL_SEGMENTS];
  ChunkView chunkView=worldProvider.getLocalView(c.getPos());
  if (chunkView != null) {
    c.setDirty(false);
    for (int seg=0; seg < WorldRenderer.VERTICAL_SEGMENTS; seg++) {
      newMeshes[seg]=tessellator.generateMesh(chunkView,c.getPos(),Chunk.SIZE_Y / WorldRenderer.VERTICAL_SEGMENTS,seg * (Chunk.SIZE_Y / WorldRenderer.VERTICAL_SEGMENTS));
    }
    c.setPendingMesh(newMeshes);
  }
  currentlyProcessedChunks.remove(c);
  c=null;
  tessellator=null;
  worldProvider=null;
}
