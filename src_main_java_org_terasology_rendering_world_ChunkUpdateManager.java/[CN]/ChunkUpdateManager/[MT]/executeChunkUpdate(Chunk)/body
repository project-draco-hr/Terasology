{
  currentlyProcessedChunks.add(c);
  Runnable r=new Runnable(){
    public void run(){
      ChunkMesh[] newMeshes=new ChunkMesh[WorldRenderer.VERTICAL_SEGMENTS];
      WorldView worldView=worldProvider.getWorldViewAround(c.getPos());
      if (worldView != null) {
        c.setDirty(false);
        for (int seg=0; seg < WorldRenderer.VERTICAL_SEGMENTS; seg++) {
          newMeshes[seg]=tessellator.generateMesh(worldView,c.getPos(),Chunk.SIZE_Y / WorldRenderer.VERTICAL_SEGMENTS,seg * (Chunk.SIZE_Y / WorldRenderer.VERTICAL_SEGMENTS));
        }
        c.setPendingMesh(newMeshes);
      }
      currentlyProcessedChunks.remove(c);
    }
  }
;
  CoreRegistry.get(GameEngine.class).submitTask("Chunk Update",r);
}
