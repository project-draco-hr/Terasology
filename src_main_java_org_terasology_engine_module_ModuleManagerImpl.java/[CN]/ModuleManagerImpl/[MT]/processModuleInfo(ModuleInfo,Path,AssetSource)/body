{
  String moduleId=UriUtil.normalise(moduleInfo.getId());
  Version version=Version.create(moduleInfo.getVersion());
  if (version != null) {
    if (!modules.contains(moduleId,version)) {
      ExtensionModule module=new ExtensionModule(this,modulePath,moduleInfo,version,source);
      modules.put(moduleId,version,module);
      logger.info("Discovered module: {}:{} (hasCode = {})",moduleInfo.getDisplayName(),moduleInfo.getVersion(),module.isCodeModule());
    }
 else {
      logger.info("Discovered duplicate module: {}:{}, skipping",moduleInfo.getDisplayName(),moduleInfo.getVersion());
    }
  }
 else {
    logger.error("Found module '" + moduleInfo.getId() + "' with invalid version '"+ moduleInfo.getVersion()+ "', skipping");
  }
}
