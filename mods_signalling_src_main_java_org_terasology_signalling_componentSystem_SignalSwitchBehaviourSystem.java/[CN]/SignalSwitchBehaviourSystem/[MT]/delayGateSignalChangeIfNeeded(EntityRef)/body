{
  if (!entity.hasComponent(SignalDelayedActionComponent.class)) {
    SignalDelayedActionComponent delayedAction=new SignalDelayedActionComponent();
    long whenToLookAt;
    final ImmutableBlockLocation location=new ImmutableBlockLocation(entity.getComponent(BlockComponent.class).getPosition());
    if (gateLastSignalChangeTime.containsKey(location)) {
      whenToLookAt=gateLastSignalChangeTime.get(location) + GATE_MINIMUM_SIGNAL_CHANGE_INTERVAL;
    }
 else {
      whenToLookAt=worldProvider.getTime().getMilliseconds();
    }
    delayedAction.executeTime=whenToLookAt;
    entity.addComponent(delayedAction);
  }
}
