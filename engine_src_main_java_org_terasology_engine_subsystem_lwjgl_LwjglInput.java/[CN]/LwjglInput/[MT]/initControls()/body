{
  try {
    Keyboard.create();
    Keyboard.enableRepeatEvents(true);
    Mouse.create();
    InputSystem inputSystem=new InputSystem();
    context.put(InputSystem.class,inputSystem);
    inputSystem.setMouseDevice(new LwjglMouseDevice());
    inputSystem.setKeyboardDevice(new LwjglKeyboardDevice());
    ControllerConfig controllerConfig=context.get(Config.class).getInput().getControllers();
    JinputControllerDevice controllerDevice=new JinputControllerDevice();
    for (    String name : controllerDevice.getControllers()) {
      float mvmtDeadZone=controllerConfig.getController(name).getMovementDeadZone();
      controllerDevice.setMovementDeadZone(name,mvmtDeadZone);
      float rotDeadZone=controllerConfig.getController(name).getRotationDeadZone();
      controllerDevice.setMovementDeadZone(name,rotDeadZone);
    }
    inputSystem.setControllerDevice(controllerDevice);
  }
 catch (  LWJGLException e) {
    throw new RuntimeException("Could not initialize controls.",e);
  }
}
