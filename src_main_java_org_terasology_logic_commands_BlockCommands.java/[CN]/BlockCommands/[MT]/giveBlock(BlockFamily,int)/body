{
  InventoryManager inventoryManager=CoreRegistry.get(InventoryManager.class);
  if (quantity < 1) {
    MessageManager.getInstance().addMessage("Here, have these zero (0) items just like you wanted");
    return;
  }
  BlockItemFactory factory=new BlockItemFactory(CoreRegistry.get(EntityManager.class));
  EntityRef item=factory.newInstance(blockFamily,quantity);
  if (!item.exists()) {
    MessageManager.getInstance().addMessage("Unknown block or item");
    return;
  }
  EntityRef playerEntity=CoreRegistry.get(LocalPlayer.class).getCharacterEntity();
  if (!inventoryManager.giveItem(playerEntity,item)) {
    item.destroy();
  }
  MessageManager.getInstance().addMessage("You received " + quantity + " blocks of "+ blockFamily.getDisplayName());
}
