{
  int remainingSize=0;
switch (direction) {
case X:
    remainingSize=dimension.x;
  break;
case Y:
remainingSize=dimension.y;
break;
case Z:
remainingSize=dimension.z;
break;
}
for (DivideArg arg : args) {
if (arg.getSize().isAbsolute()) {
remainingSize-=arg.getSize().getValue();
}
}
List<Shape> elements=new ArrayList<Shape>(args.size());
Vector3i newPos=position;
int newSize;
for (DivideArg arg : args) {
Shape s=arg.getShape();
if (arg.getSize().isAbsolute()) {
newSize=(int)arg.getSize().getValue();
}
 else {
newSize=(int)(remainingSize * arg.getSize().getValue());
}
s.setPosition(newPos);
switch (direction) {
case X:
newPos.x+=newSize;
s.setDimension(newSize,dimension.y,dimension.z);
break;
case Y:
newPos.y+=newSize;
s.setDimension(dimension.x,newSize,dimension.z);
break;
case Z:
newPos.z+=newSize;
s.setDimension(dimension.x,dimension.y,newSize);
break;
}
s.setCoordinateSystem(coordinateSystem);
elements.add(s);
}
return elements;
}
