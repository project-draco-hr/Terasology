{
  ItemIcon icon=new ItemIcon();
  setAttachment(icon);
  icon.bindIcon(new ReadOnlyBinding<TextureRegion>(){
    @Override public TextureRegion get(){
      if (getItem().exists()) {
        ItemComponent itemComp=getItem().getComponent(ItemComponent.class);
        if (itemComp != null) {
          return itemComp.icon;
        }
        BlockItemComponent blockItemComp=getItem().getComponent(BlockItemComponent.class);
        if (blockItemComp == null) {
          return Assets.getTextureRegion("engine:items.questionMark");
        }
      }
      return null;
    }
  }
);
  icon.bindMesh(new ReadOnlyBinding<Mesh>(){
    @Override public Mesh get(){
      BlockItemComponent blockItemComp=getItem().getComponent(BlockItemComponent.class);
      if (blockItemComp != null) {
        return blockItemComp.blockFamily.getArchetypeBlock().getMesh();
      }
      return null;
    }
  }
);
  icon.setMeshTexture(Assets.getTexture("engine:terrain"));
  icon.bindQuantity(new ReadOnlyBinding<Integer>(){
    @Override public Integer get(){
      ItemComponent itemComp=getItem().getComponent(ItemComponent.class);
      if (itemComp != null) {
        return UnsignedBytes.toInt(itemComp.stackCount);
      }
      return 1;
    }
  }
);
}
