{
  if (blinkCounter < BLINK_RATE) {
    Border margin=canvas.getCurrentStyle().getMargin();
    Font font=canvas.getCurrentStyle().getFont();
    String beforeCursor=text.get();
    if (cursorPosition < text.get().length()) {
      beforeCursor=beforeCursor.substring(0,cursorPosition);
    }
    List<String> lines=TextLineBuilder.getLines(font,beforeCursor,canvas.size().x - margin.getTotalWidth());
    int lastLineWidth=font.getWidth(lines.get(lines.size() - 1));
    Rect2i region=Rect2i.createFromMinAndSize(lastLineWidth + margin.getLeft(),(lines.size() - 1) * font.getLineHeight() + margin.getTop(),1,font.getLineHeight());
    canvas.drawTexture(cursorTexture,region,canvas.getCurrentStyle().getTextColor());
  }
}
