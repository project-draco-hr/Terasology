{
  int stateToSet=stateId;
  if (states.size() > 0) {
    if (stateToSet < 0) {
      stateToSet=0;
    }
    if (stateToSet >= states.size()) {
      stateToSet=states.size() - 1;
    }
    getLabel().setText(states.get(stateToSet).name);
    currentState=stateToSet;
    if (states.get(stateId).action != null) {
      states.get(stateId).action.action(this);
    }
  }
}
