{
  for (  BlockRigidBody b : _blocks) {
    Block block=BlockManager.getInstance().getBlock(b.getType());
    Transform t=new Transform();
    b.getMotionState().getWorldTransform(t);
    GL11.glPushMatrix();
    FloatBuffer mBuffer=BufferUtils.createFloatBuffer(16);
    float[] mFloat=new float[16];
    t.getOpenGLMatrix(mFloat);
    mBuffer.put(mFloat);
    mBuffer.flip();
    GL11.glTranslated(-_parent.getPlayer().getPosition().x,-_parent.getPlayer().getPosition().y,-_parent.getPlayer().getPosition().z);
    GL11.glMultMatrix(mBuffer);
    float lightValue=_parent.getRenderingLightValueAt(new Vector3d(t.origin));
    int lightRef=GL20.glGetUniformLocation(ShaderManager.getInstance().getShader("block"),"light");
    GL20.glUniform1f(lightRef,lightValue);
    FloatBuffer colorBuffer=BufferUtils.createFloatBuffer(3);
    Vector4f color=block.calcColorOffsetFor(Block.SIDE.FRONT,Blockmania.getInstance().getActiveWorldRenderer().getActiveTemperature(),Blockmania.getInstance().getActiveWorldRenderer().getActiveTemperature());
    colorBuffer.put(color.x);
    colorBuffer.put(color.y);
    colorBuffer.put(color.z);
    colorBuffer.flip();
    int colorOffset=GL20.glGetUniformLocation(ShaderManager.getInstance().getShader("block"),"colorOffset");
    GL20.glUniform3(colorOffset,colorBuffer);
    BlockManager.getInstance().getBlock(b.getType()).render();
    GL11.glPopMatrix();
  }
}
