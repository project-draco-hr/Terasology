{
  EntityRef item=getFromTransferSlot();
  if (item.exists()) {
    boolean success=false;
    if (!success) {
      success=moveItemPlace(targetCell,amount);
    }
    if (!success) {
      success=moveItemMerge(targetCell,amount);
    }
    if (!success && swap) {
      success=moveItemSwap(targetCell);
    }
    if (!success && dropOnFail) {
      dropitem();
    }
    targetCell.ownerEntity.saveComponent(ownerInventory);
  }
}
