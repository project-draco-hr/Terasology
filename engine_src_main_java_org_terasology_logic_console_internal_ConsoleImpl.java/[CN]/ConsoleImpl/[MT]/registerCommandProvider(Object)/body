{
  Predicate<? super Method> predicate=Predicates.<Method>and(withModifier(Modifier.PUBLIC),ReflectionUtils.withAnnotation(Command.class));
  Set<Method> commandMethods=ReflectionUtils.getAllMethods(provider.getClass(),predicate);
  if (!commandMethods.isEmpty()) {
    for (    Method method : commandMethods) {
      CommandInfo command=new CommandInfo(method,provider);
      if (commandLookup.contains(command.getName(),command.getParameterCount())) {
        logger.warn("Command already registered with same name and param count: {} : {}, skipping",command.getName(),command.getParameterCount());
      }
 else {
        commands.add(command);
        commandLookup.put(command.getName(),command.getParameterCount(),command);
      }
    }
    commandsSorted=false;
  }
}
