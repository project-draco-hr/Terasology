{
  String cleanedCommand=command.trim().replaceAll("\\s\\s+"," ");
  if (cleanedCommand.isEmpty()) {
    return false;
  }
  int commandEndIndex=cleanedCommand.indexOf(" ");
  String commandName;
  if (commandEndIndex >= 0) {
    commandName=cleanedCommand.substring(0,commandEndIndex);
  }
 else {
    commandName=cleanedCommand;
    commandEndIndex=commandName.length();
  }
  String parameterPart=cleanedCommand.substring(commandEndIndex).trim();
  List<String> params=splitParameters(parameterPart);
  Client owner=networkSystem.getOwner(callingClient);
  if (networkSystem.getMode() == NetworkMode.NONE || (owner != null && owner.isLocal())) {
    localCommandHistory.add(command);
  }
  return execute(commandName,params,callingClient);
}
