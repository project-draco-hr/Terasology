{
  UIList<GameInfo> gameList=find("gameList",UIList.class);
  refreshList(gameList);
  gameList.subscribe(new ListEventListener<GameInfo>(){
    @Override public void onItemActivated(    GameInfo item){
      try {
        GameManifest manifest=item.manifest;
        Config config=CoreRegistry.get(Config.class);
        config.getWorldGeneration().setDefaultSeed(manifest.getSeed());
        config.getWorldGeneration().setWorldTitle(manifest.getTitle());
        CoreRegistry.get(GameEngine.class).changeState(new StateLoading(manifest,(loadingAsServer) ? NetworkMode.SERVER : NetworkMode.NONE));
      }
 catch (      Exception e) {
        logger.error("Failed to load saved game",e);
      }
    }
  }
);
  UIScreenUtil.trySubscribe(this,"close",new ButtonEventListener(){
    @Override public void onButtonActivated(    UIButton button){
      nuiManager.popScreen();
    }
  }
);
}
