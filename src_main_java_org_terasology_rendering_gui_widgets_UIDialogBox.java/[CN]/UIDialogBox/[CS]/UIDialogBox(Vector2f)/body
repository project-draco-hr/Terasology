{
  super();
  setSize(size);
  setBackgroundImage("engine:gui_menu",new Vector2f(260f,92f),new Vector2f(168f,76f));
  setBorderImage("engine:gui_menu",new Vector2f(256f,90f),new Vector2f(175f,88f),new Vector4f(4f,4f,4f,4f));
  setPositionType(EPositionType.ABSOLUTE);
  resetPosition();
  overlay=new UIImage(new Color(0,0,0,200));
  overlay.setPositionType(EPositionType.ABSOLUTE);
  overlay.setSize("100%","100%");
  overlay.setVisible(true);
  container=new UIDialogBackground(new Vector2f(titleWidth,19f));
  container.addMouseButtonListener(new MouseButtonListener(){
    @Override public void wheel(    UIDisplayElement element,    int wheel,    boolean intersect){
    }
    @Override public void up(    UIDisplayElement element,    int button,    boolean intersect){
      dragged=false;
      pressedOffset.x=0f;
      pressedOffset.y=0f;
    }
    @Override public void down(    UIDisplayElement element,    int button,    boolean intersect){
      if (intersect) {
        dragged=true;
        Vector2f mousePos=new Vector2f(Mouse.getX(),Display.getHeight() - Mouse.getY());
        pressedOffset.x=mousePos.x - getPosition().x;
        pressedOffset.y=mousePos.y - getPosition().y;
      }
    }
  }
);
  container.addMouseMoveListener(new MouseMoveListener(){
    @Override public void move(    UIDisplayElement element){
      if (dragged) {
        drag(new Vector2f(Mouse.getX(),Display.getHeight() - Mouse.getY()));
      }
    }
    @Override public void leave(    UIDisplayElement element){
    }
    @Override public void hover(    UIDisplayElement element){
    }
    @Override public void enter(    UIDisplayElement element){
    }
  }
);
  container.setHorizontalAlign(EHorizontalAlign.CENTER);
  container.setSize(new Vector2f(titleWidth,19f));
  container.setVisible(true);
  closeButton=new UIButton(new Vector2f(19f,19f),UIButton.eButtonType.NORMAL);
  closeButton.setPosition(new Vector2f(getSize().x - closeButton.getSize().x - 2,2));
  closeButton.getLabel().setText("");
  closeButton.setTexture("engine:gui_menu");
  closeButton.setNormalState(new Vector2f(73f,155f),new Vector2f(19f,19f));
  closeButton.setHoverState(new Vector2f(54f,155f),new Vector2f(19f,19f));
  closeButton.setPressedState(new Vector2f(92f,155f),new Vector2f(19f,19f));
  closeButton.addClickListener(new ClickListener(){
    @Override public void click(    UIDisplayElement element,    int button){
      close();
    }
  }
);
  closeButton.setHorizontalAlign(EHorizontalAlign.RIGHT);
  closeButton.setPosition(new Vector2f(-2,0f));
  closeButton.setVisible(true);
  addDisplayElementToPosition(0,overlay);
  addDisplayElement(closeButton);
  addDisplayElement(container);
}
