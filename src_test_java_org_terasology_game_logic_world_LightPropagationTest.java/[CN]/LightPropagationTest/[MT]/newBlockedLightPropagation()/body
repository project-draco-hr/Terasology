{
  for (  Vector3i pos : Region3i.createFromMinMax(new Vector3i(5,WORLD_MIN.y,WORLD_MIN.z),new Vector3i(5,WORLD_MAX.y,WORLD_MAX.z))) {
    view.setBlock(pos,dirt,air);
  }
  Vector3i lightPos=new Vector3i(4,32,5);
  view.setBlock(lightPos,torch,air);
  propagator.update(lightPos,torch,air);
  for (  Vector3i pos : Region3i.createFromMinMax(WORLD_MIN,new Vector3i(4,WORLD_MAX.y,WORLD_MAX.z))) {
    byte expected=(byte)Math.max(0,NewChunk.MAX_LIGHT - lightPos.gridDistance(pos));
    assertEquals(pos.toString(),expected,view.getLight(pos));
  }
  for (  Vector3i pos : Region3i.createFromMinMax(new Vector3i(5,WORLD_MIN.y,WORLD_MIN.z),WORLD_MAX)) {
    assertEquals(pos.toString(),0,view.getLight(pos));
  }
}
