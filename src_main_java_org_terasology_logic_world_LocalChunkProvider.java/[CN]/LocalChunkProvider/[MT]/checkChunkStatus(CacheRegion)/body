{
  for (  Vector3i chunkPos : cacheRegion.getRegion().expand(new Vector3i(1,0,1))) {
    Chunk chunk=getChunk(chunkPos);
    if (chunk == null) {
      PerformanceMonitor.startActivity("Check chunk in cache");
      if (farStore.contains(chunkPos) && !fetchPhase.processing(chunkPos)) {
        fetchPhase.queue(chunkPos);
      }
 else       if (!generatePhase.processing(chunkPos)) {
        generatePhase.queue(chunkPos);
      }
      PerformanceMonitor.endActivity();
    }
 else {
      checkState(chunk);
    }
  }
}
