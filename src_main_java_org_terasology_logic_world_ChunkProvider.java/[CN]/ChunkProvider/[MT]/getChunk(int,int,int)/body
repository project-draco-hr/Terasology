{
  Vector3i pos=new Vector3i(x,y,z);
  Chunk c=_nearChunkCache.get(pos);
  if (c != null) {
    return c;
  }
  _lockChunkCreation.lock();
  try {
    c=_nearChunkCache.get(pos);
    if (c != null) {
      return c;
    }
    c=_farChunkCache.get(pos);
    if (c == null) {
      c=new Chunk(_parent,x,y,z);
    }
    if (_nearChunkCache.containsKey(pos)) {
      Logger.getLogger("CP").log(Level.SEVERE,"duplicate id " + pos + " found");
    }
    _nearChunkCache.put(pos,c);
    c.setParent(_parent);
    return c;
  }
  finally {
    _lockChunkCreation.unlock();
  }
}
