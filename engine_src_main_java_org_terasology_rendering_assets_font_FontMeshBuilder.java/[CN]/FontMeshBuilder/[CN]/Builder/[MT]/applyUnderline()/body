{
  if (currentUnderline && underlineStart != UNKNOWN) {
    MeshBuilder builder=getBuilderFor(underlineMaterial);
    if (shadowColor.a() != 0) {
      addUnderline(builder,underlineStart + SHADOW_HORIZONTAL_OFFSET,underlineEnd + SHADOW_HORIZONTAL_OFFSET,y + font.getBaseHeight() + SHADOW_VERTICAL_OFFSET+ UNDERLINE_OFFSET,shadowColor,SHADOW_DEPTH);
    }
    addUnderline(builder,underlineStart,underlineEnd,y + font.getBaseHeight() + UNDERLINE_OFFSET,currentColor,0);
  }
  underlineStart=UNKNOWN;
  underlineEnd=UNKNOWN;
}
