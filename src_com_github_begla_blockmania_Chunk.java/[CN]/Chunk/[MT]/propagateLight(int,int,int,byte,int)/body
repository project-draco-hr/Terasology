{
  if (depth > lightValue) {
    return;
  }
  int blockPosX=getBlockWorldPosX(x);
  int blockPosY=getBlockWorldPosY(y);
  int blockPosZ=getBlockWorldPosZ(z);
  byte val1=_parent.getLight(blockPosX + 1,blockPosY,blockPosZ);
  byte type1=_parent.getBlock(blockPosX + 1,blockPosY,blockPosZ);
  byte val2=_parent.getLight(blockPosX - 1,blockPosY,blockPosZ);
  byte type2=_parent.getBlock(blockPosX - 1,blockPosY,blockPosZ);
  byte val3=_parent.getLight(blockPosX,blockPosY,blockPosZ + 1);
  byte type3=_parent.getBlock(blockPosX,blockPosY,blockPosZ + 1);
  byte val4=_parent.getLight(blockPosX,blockPosY,blockPosZ - 1);
  byte type4=_parent.getBlock(blockPosX,blockPosY,blockPosZ - 1);
  byte val5=_parent.getLight(blockPosX,blockPosY + 1,blockPosZ);
  byte type5=_parent.getBlock(blockPosX,blockPosY + 1,blockPosZ);
  byte val6=_parent.getLight(blockPosX,blockPosY - 1,blockPosZ);
  byte type6=_parent.getBlock(blockPosX,blockPosY - 1,blockPosZ);
  byte newLightValue=0;
  if (depth == 0) {
    newLightValue=lightValue;
  }
 else {
    newLightValue=(byte)(Math.max(Math.max(Math.max(val1,val2),Math.max(val3,val4)),Math.max(val5,val6)) - 1);
  }
  if (newLightValue > lightValue) {
    return;
  }
  _parent.setSunlight(blockPosX,blockPosY,blockPosZ,newLightValue);
  if (val1 < newLightValue - 1 && Block.getBlock(type1).isBlockTypeTranslucent()) {
    _parent.propagateLight(blockPosX + 1,blockPosY,blockPosZ,lightValue,++depth);
  }
  if (val2 < newLightValue - 1 && Block.getBlock(type2).isBlockTypeTranslucent()) {
    _parent.propagateLight(blockPosX - 1,blockPosY,blockPosZ,lightValue,++depth);
  }
  if (val3 < newLightValue - 1 && Block.getBlock(type3).isBlockTypeTranslucent()) {
    _parent.propagateLight(blockPosX,blockPosY,blockPosZ + 1,lightValue,++depth);
  }
  if (val4 < newLightValue - 1 && Block.getBlock(type4).isBlockTypeTranslucent()) {
    _parent.propagateLight(blockPosX,blockPosY,blockPosZ - 1,lightValue,++depth);
  }
  if (val5 < newLightValue - 1 && Block.getBlock(type5).isBlockTypeTranslucent()) {
    _parent.propagateLight(blockPosX,blockPosY + 1,blockPosZ,lightValue,++depth);
  }
  if (val6 < newLightValue - 1 && Block.getBlock(type6).isBlockTypeTranslucent()) {
    _parent.propagateLight(blockPosX,blockPosY - 1,blockPosZ,lightValue,++depth);
  }
  _lightDirty=true;
}
