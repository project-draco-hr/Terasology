{
  int blockPosX=getBlockWorldPosX(x);
  int blockPosY=getBlockWorldPosY(y);
  int blockPosZ=getBlockWorldPosZ(z);
  byte originLightValue=getLight(x,y,z);
  if (originLightValue == 0) {
    return;
  }
  for (int i=1; i <= originLightValue; i++) {
    byte blockType=_parent.getBlock(blockPosX + (i * dirX),blockPosY + (i * dirY),blockPosZ + (i * dirZ));
    if (!Block.getBlock(blockType).isBlockTypeTranslucent()) {
      break;
    }
    byte newLightValue=(byte)(originLightValue - Math.abs(i));
    byte lightValue=_parent.getLight(blockPosX + (i * dirX),blockPosY + (i * dirY),blockPosZ + (i * dirZ));
    if (newLightValue > lightValue) {
      _parent.setLight(blockPosX + (i * dirX),blockPosY + (i * dirY),blockPosZ + (i * dirZ),newLightValue);
    }
 else {
      break;
    }
  }
}
