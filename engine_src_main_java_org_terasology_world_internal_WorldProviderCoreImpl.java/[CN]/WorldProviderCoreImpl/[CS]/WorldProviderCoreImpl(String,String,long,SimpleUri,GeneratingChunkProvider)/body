{
  this.title=(title == null) ? seed : title;
  this.seed=seed;
  this.worldGenerator=worldGenerator;
  this.chunkProvider=chunkProvider;
  this.fogNoise=new BrownianNoise3D(new PerlinNoise(seed.hashCode() + 42 * 42),8);
  CoreRegistry.put(ChunkProvider.class,chunkProvider);
  this.worldTime=new WorldTimeImpl();
  worldTime.setMilliseconds(time);
  propagators.add(new BatchPropagator(new LightPropagationRules(),new LightWorldView(chunkProvider)));
  propagators.add(new BatchPropagator(new SunlightPropagationRules(),new SunlightWorldView(chunkProvider)));
}
