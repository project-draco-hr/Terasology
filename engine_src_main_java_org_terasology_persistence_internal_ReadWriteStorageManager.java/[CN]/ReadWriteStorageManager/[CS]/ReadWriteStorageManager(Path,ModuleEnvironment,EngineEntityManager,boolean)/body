{
  super(savePath,environment,entityManager,storeChunksInZips);
  this.helper=new OwnershipHelper(entityManager.getComponentLibrary());
  entityManager.subscribeDestroyListener(this);
  entityManager.subscribeChangeListener(this);
  this.privateEntityManager=createPrivateEntityManager(entityManager.getComponentLibrary(),entityManager.getTypeSerializerLibrary());
  Files.createDirectories(getStoragePathProvider().getStoragePathDirectory());
  this.saveTransactionHelper=new SaveTransactionHelper(getStoragePathProvider());
  this.saveThreadManager=TaskMaster.createFIFOTaskMaster("Saving",1);
  this.config=CoreRegistry.get(Config.class);
  this.entitySetDeltaRecorder=new EntitySetDeltaRecorder(entityManager.getComponentLibrary());
}
