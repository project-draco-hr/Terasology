{
  Module selectedModule=(Module)modList.getSelection().getValue();
  if (selectedModule.getId().equals("core")) {
    return;
  }
  if (selection.contains(selectedModule.getId())) {
    selection=selection.remove(selectedModule.getId());
    refreshListItemActivation();
    toggleButton.getLabel().setText(ACTIVATE_TEXT);
  }
 else {
    ModuleSelection newSelection=selection.add(selectedModule);
    if (newSelection.isValid()) {
      selection=newSelection;
      refreshListItemActivation();
      toggleButton.getLabel().setText(DEACTIVATE_TEXT);
    }
  }
}
