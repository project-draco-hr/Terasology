{
  ItemComponent itemToGive=event.getItem().getComponent(ItemComponent.class);
  if (itemToGive == null) {
    event.consume();
    return;
  }
  Integer slot=event.getSlot();
  if (slot != null) {
    if (giveItemToSlot(event,entity,itemToGive,slot)) {
      event.consume();
    }
    return;
  }
  int slotCount=InventoryUtils.getSlotCount(entity);
  for (int i=0; i < slotCount; i++) {
    if (giveItemToSlot(event,entity,itemToGive,i)) {
      event.consume();
      return;
    }
  }
}
