{
  serverList=find("serverList",UIList.class);
  if (serverList != null) {
    serverList.bindList(BindHelper.bindBeanListProperty("servers",config.getNetwork(),ServerInfo.class));
    serverList.setItemRenderer(new StringTextRenderer<ServerInfo>(){
      @Override public String getString(      ServerInfo value){
        return value.getName();
      }
    }
);
    serverList.subscribe(new ItemActivateEventListener<ServerInfo>(){
      @Override public void onItemActivated(      UIWidget widget,      ServerInfo item){
        join(item.getAddress());
      }
    }
);
    final ListSelectionBinding<ServerInfo> infoBinding=new ListSelectionBinding<ServerInfo>(serverList);
    UILabel name=findChecked("name",UILabel.class);
    name.bindText(BindHelper.bindBoundBeanProperty("name",infoBinding,ServerInfo.class,String.class));
    UILabel address=findChecked("address",UILabel.class);
    address.bindText(BindHelper.bindBoundBeanProperty("address",infoBinding,ServerInfo.class,String.class));
    UILabel port=findChecked("port",UILabel.class);
    port.bindText(new IntToStringBinding(BindHelper.bindBoundBeanProperty("port",infoBinding,ServerInfo.class,int.class)));
    WidgetUtil.trySubscribe(this,"add",new ActivateEventListener(){
      @Override public void onActivated(      UIWidget button){
        getManager().pushScreen(AddServerPopup.ASSET_URI);
      }
    }
);
    WidgetUtil.trySubscribe(this,"edit",new ActivateEventListener(){
      @Override public void onActivated(      UIWidget button){
        AddServerPopup popup=getManager().pushScreen(AddServerPopup.ASSET_URI,AddServerPopup.class);
        popup.setServerInfo(infoBinding.get());
      }
    }
);
    WidgetUtil.trySubscribe(this,"remove",new ActivateEventListener(){
      @Override public void onActivated(      UIWidget button){
        if (serverList.getSelection() != null) {
          config.getNetwork().remove(serverList.getSelection());
          serverList.setSelection(null);
        }
      }
    }
);
    WidgetUtil.trySubscribe(this,"join",new ActivateEventListener(){
      @Override public void onActivated(      UIWidget button){
        config.save();
        if (serverList.getSelection() != null) {
          join(serverList.getSelection().getAddress());
        }
      }
    }
);
    Binding<Boolean> hasSelection=new ReadOnlyBinding<Boolean>(){
      @Override public Boolean get(){
        return infoBinding.get() != null;
      }
    }
;
    UIButton editButton=findChecked("edit",UIButton.class);
    UIButton removeButton=findChecked("remove",UIButton.class);
    UIButton joinButton=findChecked("join",UIButton.class);
    editButton.bindEnabled(hasSelection);
    removeButton.bindEnabled(hasSelection);
    joinButton.bindEnabled(hasSelection);
  }
  WidgetUtil.trySubscribe(this,"joinDirect",new ActivateEventListener(){
    @Override public void onActivated(    UIWidget button){
      config.save();
      getManager().pushScreen("engine:joinServerPopup");
    }
  }
);
  WidgetUtil.trySubscribe(this,"close",new ActivateEventListener(){
    @Override public void onActivated(    UIWidget button){
      config.save();
      getManager().popScreen();
    }
  }
);
}
