{
  if (renderingConfig.isDynamicShadows() && isFirstRenderingStageForCurrentFrame) {
    PerformanceMonitor.startActivity("Render World (Shadow Map)");
    graphicState.preRenderSetupSceneShadowMap();
    shadowMapCamera.lookThrough();
    while (renderQueues.chunksOpaqueShadow.size() > 0) {
      renderChunk(renderQueues.chunksOpaqueShadow.poll(),ChunkMesh.RenderPhase.OPAQUE,shadowMapCamera,ChunkRenderMode.SHADOW_MAP);
    }
    for (    RenderSystem renderer : systemManager.iterateRenderSubscribers()) {
      renderer.renderShadows();
    }
    playerCamera.lookThrough();
    graphicState.postRenderCleanupSceneShadowMap();
    PerformanceMonitor.endActivity();
  }
}
