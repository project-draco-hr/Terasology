{
  buffersManager=new FrameBuffersManager();
  context.put(FrameBuffersManager.class,buffersManager);
  graphicState=new GraphicState(buffersManager);
  postProcessor=new PostProcessor(buffersManager,graphicState);
  context.put(PostProcessor.class,postProcessor);
  buffersManager.setGraphicState(graphicState);
  buffersManager.setPostProcessor(postProcessor);
  buffersManager.initialize();
  shaderManager.initShaders();
  postProcessor.initializeMaterials();
  initMaterials();
  shadowMapNode=new ShadowMapNode(getMaterial("engine:prog.shadowMapNode"),playerCamera,this,backdropProvider,renderingConfig,graphicState);
  renderingPipeline.add(shadowMapNode);
}
