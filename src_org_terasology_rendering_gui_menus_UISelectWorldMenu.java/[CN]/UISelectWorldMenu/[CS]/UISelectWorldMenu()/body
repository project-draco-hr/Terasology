{
  maximaze();
  _overlay=new UIImageOverlay("menuBackground");
  _overlay.setVisible(true);
  _window=new UIDialogCreateNewWorld("Create new world",new Vector2f(512f,256f));
  _window.center();
  _window.setModal(true);
  GUIManager.getInstance().addWindow(_window,"generate_world ");
  _list=new UIList(new Vector2f(512f,256f));
  _list.setVisible(true);
  ConfigObject config=null;
  String path=Terasology.getInstance().getWorldSavePath("");
  File worldCatalog=new File(path);
  for (  File file : worldCatalog.listFiles(new FileFilter(){
    public boolean accept(    File file){
      if (file.isDirectory()) {
        return true;
      }
 else {
        return false;
      }
    }
  }
)) {
    File worldManifest=new File(file.getPath() + "\\WorldManifest.groovy");
    System.out.println(file.getPath() + "WorldManifest.groovy");
    try {
      config=new ConfigSlurper().parse(worldManifest.toURI().toURL());
      if (config.get("worldTitle") != null && config.get("worldSeed") != null) {
        _list.addItem((String)config.get("worldTitle"),(String)config.get("worldSeed"));
      }
    }
 catch (    MalformedURLException e) {
      Terasology.getInstance().getLogger().log(Level.SEVERE,"Failed reading world data object. Sorry.",e);
    }
  }
  _list.addItem("worldTitle1","worldSeed");
  _list.addItem("worldTitle2","worldSeed");
  _list.addItem("worldTitle1","worldSeed");
  _list.addItem("worldTitle2","worldSeed");
  _list.addItem("worldTitle1","worldSeed");
  _list.addItem("worldTitle2","worldSeed");
  _list.addItem("worldTitle1","worldSeed");
  _list.addItem("worldTitle2","worldSeed");
  _list.addItem("worldTitle1","worldSeed");
  _list.addItem("worldTitlaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaae1","worldSeed");
  _list.addItem("worldTitle2","worldSeed");
  _list.addItem("worldTitle1","worldSeed");
  _list.addItem("worldTitle2","worldSeed");
  _list.addItem("worldTitle1","worldSeed");
  _list.addItem("worldTitle2","worldSeed");
  _list.addItem("worldTitle1","worldSeed");
  _list.addItem("worldTitle2","worldSeed");
  _goToBack=new UIButton(new Vector2f(256f,32f));
  _goToBack.getLabel().setText("Go to back");
  _goToBack.setVisible(true);
  _loadFromList=new UIButton(new Vector2f(128f,32f));
  _loadFromList.getLabel().setText("Load");
  _loadFromList.setVisible(true);
  _createNewWorld=new UIButton(new Vector2f(192f,32f));
  _createNewWorld.getLabel().setText("Create new world");
  _createNewWorld.setVisible(true);
  _deleteFromList=new UIButton(new Vector2f(128f,32f));
  _deleteFromList.getLabel().setText("Delete");
  _deleteFromList.setVisible(true);
  _createNewWorld.addClickListener(new IClickListener(){
    public void clicked(    UIDisplayElement element){
      _window.show();
    }
  }
);
  _deleteFromList.addClickListener(new IClickListener(){
    public void clicked(    UIDisplayElement element){
      _list.removeSelectedItem();
    }
  }
);
  _loadFromList.addClickListener(new IClickListener(){
    public void clicked(    UIDisplayElement element){
    }
  }
);
  addDisplayElement(_overlay);
  addDisplayElement(_list,"list");
  addDisplayElement(_loadFromList,"loadFromListButton");
  addDisplayElement(_goToBack,"goToBackButton");
  addDisplayElement(_createNewWorld,"createWorldButton");
  addDisplayElement(_deleteFromList,"deleteFromListButton");
  update();
}
