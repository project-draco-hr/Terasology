{
  if (tiles.size() == MAX_TILES) {
    logger.error("Maximum tiles exceeded");
    return 0;
  }
  TileData tile=CoreRegistry.get(AssetManager.class).tryLoadAssetData(uri,TileData.class);
  if (tile != null) {
    if (checkTile(tile)) {
      int index=tiles.size();
      tiles.add(tile);
      addNormal(uri);
      addHeightMap(uri);
      tileIndexes.put(uri,index);
      return index;
    }
 else {
      logger.error("Invalid tile {}, must be a square with power-of-two sides.",uri);
      return 0;
    }
  }
 else   if (warnOnError) {
    logger.warn("Unable to resolve block tile '{}'",uri);
  }
  return 0;
}
