{
  if (!event.isDown() || time.getGameTimeInMs() < characterHeldItemComponent.nextItemUseTime) {
    return;
  }
  EntityRef selectedItemEntity=characterHeldItemComponent.selectedItem;
  entity.send(new AttackRequest(selectedItemEntity));
  long currentTime=time.getGameTimeInMs();
  characterHeldItemComponent.lastItemUsedTime=currentTime;
  characterHeldItemComponent.nextItemUseTime=currentTime;
  ItemComponent itemComponent=selectedItemEntity.getComponent(ItemComponent.class);
  if (itemComponent != null) {
    characterHeldItemComponent.nextItemUseTime+=itemComponent.cooldownTime;
  }
 else {
    characterHeldItemComponent.nextItemUseTime+=200;
  }
  entity.saveComponent(characterHeldItemComponent);
  event.consume();
}
