{
  float height=(calcTerrainElevation(x,z) + 1) / 2 + (calcTerrainRoughness(x,z) + 1) / 2;
  float density=calcMountainDensity(x,y,z);
  density=height - density;
  if (y < 120)   density/=(y + 1) * 1.7f;
 else   density/=(y + 1) * 2.0f;
  return density;
}
