{
  BIOME_TYPE type=calcBiomeType((int)x,(int)z);
  double height=baseTerrain(x,z) * 2 + 0.2;
  double density=calcMountainDensity(x,y,z);
  density=height - density;
  double div=(y + 1) * 0.6;
  if (y > 120)   div*=2.0;
  if (type == BIOME_TYPE.DESERT) {
    div*=1.3;
  }
 else   if (type == BIOME_TYPE.PLAINS) {
    div*=1.3;
  }
 else   if (type == BIOME_TYPE.MOUNTAINS) {
    div*=1.2;
  }
 else   if (type == BIOME_TYPE.SNOW) {
    div*=1.2;
  }
  return density / div;
}
