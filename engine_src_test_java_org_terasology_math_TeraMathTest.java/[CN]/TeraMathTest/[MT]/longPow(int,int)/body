{
  double result=Math.pow(base,exp);
  if (!TeraMath.isFinite(result)) {
    throw new ArithmeticException(Double.toString(result));
  }
  if (result < 0) {
    return (long)(result - MAX_DOUBLE_ERROR);
  }
  return (long)(result + MAX_DOUBLE_ERROR);
}
