{
  if (!TeraMath.isFinite(expected) && expected != actual) {
    Assert.fail(msg);
    return;
  }
  double ratio=expected / actual;
  if (ratio < 0.0) {
    ratio=1.0 / ratio;
  }
  ratio=TeraMath.fastAbs(ratio - 1.0);
  if (ratio >= error) {
    Assert.fail(msg);
  }
}
