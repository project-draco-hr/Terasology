{
  lock();
  try {
    TeraArray packed=blocks.pack();
    if (packed != blocks) {
      double bp=100d - (100d / blocks.getEstimatedMemoryConsumptionInBytes() * packed.getEstimatedMemoryConsumptionInBytes());
      System.out.println(String.format("packed chunk (%d, %d, %d), blocks-reduced-by=%s%%",pos.x,pos.y,pos.z,fpercent.format(bp)));
      blocks=packed;
    }
  }
  finally {
    unlock();
  }
}
