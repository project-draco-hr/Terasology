{
  Preconditions.checkNotNull(chunk,"The parameter 'chunk' must not be null");
  final TeraArrays t=TeraArrays.getInstance();
  final EntityData.ChunkStore.Builder b=EntityData.ChunkStore.newBuilder().setX(chunk.chunkPos.x).setY(chunk.chunkPos.y).setZ(chunk.chunkPos.z).setState(chunk.chunkState.protobufState).setBlockData(t.encode(chunk.blockData));
  if (!coreOnly) {
    b.setLiquidData(t.encode(chunk.extraData));
  }
  return b;
}
