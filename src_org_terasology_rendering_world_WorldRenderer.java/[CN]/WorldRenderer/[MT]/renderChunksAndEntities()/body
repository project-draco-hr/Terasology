{
  glEnable(GL_LIGHT0);
  boolean headUnderWater=_player.isHeadUnderWater();
  PerformanceMonitor.startActivity("BulletPhysicsRenderer");
  BulletPhysicsRenderer.getInstance().render();
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Chunk-Opaque");
  if (_wireframe)   glPolygonMode(GL_FRONT_AND_BACK,GL_LINE);
  for (int i=0; i < _visibleChunks.size(); i++) {
    Chunk c=_visibleChunks.get(i);
    c.render(ChunkMesh.RENDER_PHASE.OPAQUE);
  }
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Chunk-Billboard");
  glEnable(GL_BLEND);
  glBlendFunc(GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA);
  for (int i=0; i < _visibleChunks.size(); i++) {
    Chunk c=_visibleChunks.get(i);
    c.render(ChunkMesh.RENDER_PHASE.BILLBOARD_AND_TRANSLUCENT);
  }
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Render Mobs");
  _mobManager.renderAll();
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Chunk-WaterIce");
  if (headUnderWater) {
    glDisable(GL11.GL_CULL_FACE);
  }
  for (int j=0; j < 2; j++) {
    if (j == 0) {
      glColorMask(false,false,false,false);
    }
 else {
      glColorMask(true,true,true,true);
    }
    for (int i=0; i < _visibleChunks.size(); i++) {
      Chunk c=_visibleChunks.get(i);
      c.render(ChunkMesh.RENDER_PHASE.WATER_AND_ICE);
    }
  }
  glDisable(GL_BLEND);
  if (headUnderWater) {
    glEnable(GL11.GL_CULL_FACE);
  }
  if (_wireframe)   glPolygonMode(GL_FRONT_AND_BACK,GL_FILL);
  glDisable(GL_LIGHT0);
  PerformanceMonitor.endActivity();
}
