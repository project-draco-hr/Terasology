{
  _gameInstance=gameEngine;
  entityManager=new EntitySystemBuilder().build();
  eventSystem=CoreRegistry.get(EventSystem.class);
  guiManager=new GUIManager();
  CoreRegistry.put(GUIManager.class,guiManager);
  componentSystemManager=new ComponentSystemManager();
  CoreRegistry.put(ComponentSystemManager.class,componentSystemManager);
  cameraTargetSystem=new CameraTargetSystem();
  CoreRegistry.put(CameraTargetSystem.class,cameraTargetSystem);
  componentSystemManager.register(cameraTargetSystem,"engine:CameraTargetSystem");
  inputSystem=new InputSystem();
  CoreRegistry.put(InputSystem.class,inputSystem);
  componentSystemManager.register(inputSystem,"engine:InputSystem");
  LocalPlayerComponent localPlayerComp=new LocalPlayerComponent();
  CoreRegistry.put(LocalPlayerComponent.class,localPlayerComp);
  entityManager.create(localPlayerComp);
  CoreRegistry.put(LocalPlayer.class,new LocalPlayer(EntityRef.NULL));
}
