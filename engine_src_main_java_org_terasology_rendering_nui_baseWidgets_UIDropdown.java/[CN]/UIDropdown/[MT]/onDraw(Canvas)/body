{
  if (selection.get() != null) {
    canvas.drawText(selection.get().toString());
  }
  if (opened) {
    canvas.setMode(LIST_MODE);
    canvas.setDrawOnTop(true);
    Font font=canvas.getCurrentStyle().getFont();
    Border itemMargin=canvas.getCurrentStyle().getMargin();
    int height=(font.getLineHeight() + itemMargin.getTotalHeight()) * options.get().size() + canvas.getCurrentStyle().getBackgroundBorder().getTotalHeight();
    canvas.addInteractionRegion(mainListener,Rect2i.createFromMinAndSize(0,0,canvas.size().x,canvas.size().y + height));
    Rect2i location=Rect2i.createFromMinAndSize(0,canvas.size().y,canvas.size().x,height);
    canvas.drawBackground(location);
    int baseHeight=canvas.size().y + itemMargin.getTop();
    int itemHeight=itemMargin.getTotalHeight() + font.getLineHeight();
    for (int i=0; i < options.get().size(); ++i) {
      if (optionListeners.get(i).isMouseOver()) {
        canvas.setMode(ACTIVE_LIST_ITEM_MODE);
      }
 else {
        canvas.setMode(LIST_ITEM_MODE);
      }
      Rect2i itemRegion=Rect2i.createFromMinAndSize(0,canvas.size().y + itemHeight * i,canvas.size().x,itemHeight);
      Rect2i itemTextRegion=Rect2i.createFromMinAndSize(itemMargin.getLeft(),baseHeight + i * itemHeight,canvas.size().x - itemMargin.getTotalWidth(),font.getLineHeight());
      canvas.drawBackground(itemRegion);
      canvas.drawText(options.get().get(i).toString(),itemTextRegion);
      canvas.addInteractionRegion(optionListeners.get(i),itemRegion);
    }
  }
 else {
    canvas.addInteractionRegion(mainListener);
  }
}
