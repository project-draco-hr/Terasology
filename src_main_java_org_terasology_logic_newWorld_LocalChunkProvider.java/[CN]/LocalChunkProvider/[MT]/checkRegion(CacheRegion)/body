{
  for (  Vector3i chunkPos : cacheRegion.getRegion().expand(new Vector3i(2,0,2))) {
    NewChunk chunk=getChunk(chunkPos);
    if (chunk == null) {
      createChunk(chunkPos);
    }
  }
  for (  Vector3i chunkPos : cacheRegion.getRegion().expand(new Vector3i(1,0,1))) {
    NewChunk chunk=getChunk(chunkPos);
    if (chunk.getChunkState() == NewChunk.State.Awaiting2ndGenerationPass) {
      fullGenerateChunk(chunk);
    }
  }
  for (  Vector3i chunkPos : cacheRegion.getRegion()) {
    NewChunk chunk=getChunk(chunkPos);
    if (chunk.getChunkState() == NewChunk.State.AwaitingLightPropagation) {
      chunk.setChunkState(NewChunk.State.Complete);
    }
  }
}
