{
  if (!hasLeafNode(networkNode))   throw new IllegalArgumentException("Cannot test nodes not in network");
  if (networkingNodes.size() == 0) {
    for (    Side connectingOnSide : SideBitFlag.getSides(networkNode.connectionSides)) {
      Vector3i possibleLocation=networkNode.location.toVector3i();
      possibleLocation.add(connectingOnSide.getVector3i());
      for (      NetworkNode node : leafNodes.get(new ImmutableBlockLocation(possibleLocation))) {
        if (SideBitFlag.hasSide(node.connectionSides,connectingOnSide.reverse())) {
          return SideBitFlag.getSide(connectingOnSide);
        }
      }
    }
    return 0;
  }
 else {
    byte result=0;
    for (    Side connectingOnSide : SideBitFlag.getSides(networkNode.connectionSides)) {
      Vector3i possibleLocation=networkNode.location.toVector3i();
      possibleLocation.add(connectingOnSide.getVector3i());
      for (      NetworkNode node : networkingNodes.get(new ImmutableBlockLocation(possibleLocation))) {
        if (SideBitFlag.hasSide(node.connectionSides,connectingOnSide.reverse())) {
          result+=SideBitFlag.getSide(connectingOnSide);
        }
      }
    }
    return result;
  }
}
