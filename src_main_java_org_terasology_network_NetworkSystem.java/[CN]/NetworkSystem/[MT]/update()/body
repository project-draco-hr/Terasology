{
  if (mode != NetworkMode.NONE) {
    if (entityManager != null) {
      if (!newClients.isEmpty()) {
        List<Client> newPlayers=Lists.newArrayListWithExpectedSize(newClients.size());
        newClients.drainTo(newPlayers);
        for (        Client client : newPlayers) {
          processNewClient(client);
        }
      }
      long currentTimer=timer.getTimeInMs();
      if (currentTimer > nextNetworkTick) {
        nextNetworkTick+=NET_TICK_RATE;
        for (        Client client : clientList) {
          client.update();
        }
        if (server != null) {
          server.update();
        }
      }
    }
  }
}
