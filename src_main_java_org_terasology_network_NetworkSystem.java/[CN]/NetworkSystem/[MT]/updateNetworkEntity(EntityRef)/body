{
  NetworkComponent netComponent=entity.getComponent(NetworkComponent.class);
  EntityRef lastOwnerEntity=ownerLookup.get(entity);
  Client lastOwner=(lastOwnerEntity == null) ? null : getOwner(lastOwnerEntity);
  Client newOwner=getOwner(netComponent.owner);
  if (lastOwner != newOwner) {
    if (netComponent.replicateMode == NetworkComponent.ReplicateMode.OWNER) {
      if (lastOwner != null) {
        lastOwner.setNetRemoved(netComponent.networkId);
      }
      if (newOwner != null) {
        newOwner.setNetInitial(netComponent.networkId);
      }
    }
    if (!netComponent.owner.exists()) {
      ownerLookup.remove(entity);
    }
 else {
      ownerLookup.put(entity,netComponent.owner);
    }
  }
}
