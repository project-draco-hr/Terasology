{
  logger.info("New client connected: {}",client.getName());
  client.setConnected();
  logger.info("New client entity: {}",client.getEntity());
  clientPlayerList.add(client);
  clientPlayerLookup.put(client.getEntity(),client);
  if (eventSerializer != null) {
    client.setEventSerializer(eventSerializer);
  }
  for (  EntityRef netEntity : entityManager.iteratorEntities(NetworkComponent.class)) {
    NetworkComponent netComp=netEntity.getComponent(NetworkComponent.class);
switch (netComp.replicateMode) {
case OWNER:
      if (client.equals(getClientFor(netEntity))) {
        client.setNetInitial(netComp.networkId);
      }
    break;
default :
  client.setNetInitial(netComp.networkId);
break;
}
}
}
