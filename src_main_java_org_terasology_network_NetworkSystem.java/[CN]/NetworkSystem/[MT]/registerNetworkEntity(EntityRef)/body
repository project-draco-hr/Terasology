{
  if (mode == NetworkMode.NONE) {
    return;
  }
  logger.debug("Registered Network Entity: {}",entity);
  NetworkComponent netComponent=entity.getComponent(NetworkComponent.class);
  if (mode == NetworkMode.SERVER) {
    netComponent.networkId=nextNetId++;
    entity.saveComponent(netComponent);
  }
  netIdToEntityId.put(netComponent.networkId,entity.getId());
  if (mode == NetworkMode.SERVER) {
switch (netComponent.replicateMode) {
case OWNER:
      Client clientPlayer=getOwner(entity);
    if (clientPlayer != null) {
      clientPlayer.setNetInitial(netComponent.networkId);
    }
  break;
default :
for (Client client : clientList) {
  client.setNetInitial(netComponent.networkId);
}
break;
}
}
if (netComponent.owner.exists()) {
ownerLookup.put(entity,netComponent.owner);
}
}
