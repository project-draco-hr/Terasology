{
  Vector2f textAbsPos=text.getAbsolutePosition();
  mousePos=new Vector2f(Math.max(mousePos.x,textAbsPos.x),Math.max(mousePos.y,textAbsPos.y));
  Vector2f relative=new Vector2f(mousePos.x - textAbsPos.x,mousePos.y - textAbsPos.y);
  if (mousePos.y >= (textAbsPos.y + getSize().y + getScrollPosition())) {
    return text.getText().length();
  }
 else   if (mousePos.y <= textAbsPos.y) {
    return 0;
  }
 else {
    return toTextPositionLocal(relative);
  }
}
