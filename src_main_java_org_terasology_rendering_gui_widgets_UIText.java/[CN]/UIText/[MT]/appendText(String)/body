{
  boolean scrollbarVisibility=isScrollbarVisible();
  String str=getText();
  if (maxLength > 0) {
    if (str.length() >= maxLength) {
      return 0;
    }
    if (str.length() + text.length() > maxLength) {
      text=text.substring(0,maxLength - str.length());
    }
  }
  setText(str + text);
  calcContentHeight();
  if (scrollbarVisibility != isScrollbarVisible()) {
    setText(getText());
  }
  return text.length();
}
