{
  if (renderingConfig.isDynamicShadows()) {
    int shadowMapResFromSettings=(int)evt.getNewValue();
    shadowMapResolution=new FBO.Dimensions(shadowMapResFromSettings,shadowMapResFromSettings);
    for (    Map.Entry<ResourceUrn,FBOConfig> entry : fboConfigs.entrySet()) {
      ResourceUrn resourceUrn=entry.getKey();
      FBOConfig fboConfig=entry.getValue();
      if (fboLookup.containsKey(resourceUrn)) {
        FBO fbo=fboLookup.get(resourceUrn);
        if (fbo != null) {
          fbo.dispose();
        }
      }
      FBO shadowMapResDependentFBO=generate(fboConfig,shadowMapResolution);
      if (shadowMapResDependentFBO.getStatus() == FBO.Status.DISPOSED) {
        logger.warn("Failed to generate ShadowMap FBO. Turning off shadows.");
        renderingConfig.setDynamicShadows(false);
        break;
      }
      fboLookup.put(resourceUrn,shadowMapResDependentFBO);
    }
  }
}
