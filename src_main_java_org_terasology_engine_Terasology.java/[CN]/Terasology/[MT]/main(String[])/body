{
  try {
    File homePath=null;
    for (    String arg : args) {
      if (arg.startsWith(HOME_ARG)) {
        homePath=new File(arg.substring(HOME_ARG.length()));
      }
 else       if (arg.equals(LOCAL_ARG)) {
        homePath=new File("").getAbsoluteFile();
      }
    }
    if (homePath != null) {
      PathManager.getInstance().useOverrideHomePath(homePath);
    }
 else {
      PathManager.getInstance().useDefaultHomePath();
    }
    TerasologyEngine engine=new TerasologyEngine();
    engine.init();
    engine.run(new StateMainMenu());
    engine.dispose();
  }
 catch (  Throwable t) {
    LoggerFactory.getLogger(Terasology.class).error("Uncaught Exception",t);
  }
  System.exit(0);
}
