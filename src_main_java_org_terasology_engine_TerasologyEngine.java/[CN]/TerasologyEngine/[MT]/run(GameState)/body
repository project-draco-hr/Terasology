{
  if (!initialised) {
    init();
  }
  changeState(initialState);
  running=true;
  Thread.currentThread().setPriority(Thread.MAX_PRIORITY);
  CoreRegistry.putPermanently(GameEngine.class,this);
  mainLoop();
  cleanup();
}
