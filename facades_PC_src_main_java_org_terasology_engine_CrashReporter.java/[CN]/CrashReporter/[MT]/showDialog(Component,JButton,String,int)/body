{
  Object[] opts=new Object[]{closeButton};
  final JOptionPane pane=new JOptionPane(mainPanel,messageType,JOptionPane.DEFAULT_OPTION,null,opts,opts[0]);
  closeButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      pane.setValue("CLOSE");
    }
  }
);
  JDialog dialog=pane.createDialog(null,title);
  dialog.setVisible(true);
  dialog.dispose();
}
