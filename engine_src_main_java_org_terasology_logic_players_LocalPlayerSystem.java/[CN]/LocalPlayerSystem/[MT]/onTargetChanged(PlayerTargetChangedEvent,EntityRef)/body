{
  EntityRef target=event.getNewTarget();
  if (target.exists()) {
    BlockComponent blockComp=target.getComponent(BlockComponent.class);
    BlockRegionComponent blockRegion=target.getComponent(BlockRegionComponent.class);
    if (blockComp != null || blockRegion != null) {
      Vector3f blockPos=target.getComponent(LocationComponent.class).getWorldPosition();
      Block block=worldProvider.getBlock(blockPos);
      aabb=block.getBounds(blockPos);
    }
 else {
      MeshComponent mesh=target.getComponent(MeshComponent.class);
      LocationComponent location=target.getComponent(LocationComponent.class);
      if (mesh != null && mesh.mesh != null && location != null) {
        aabb=mesh.mesh.getAABB();
        aabb=aabb.transform(location.getWorldRotation(),location.getWorldPosition(),location.getWorldScale());
      }
    }
  }
 else {
    aabb=null;
  }
}
