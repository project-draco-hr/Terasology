{
  ModManager modManager=CoreRegistry.get(ModManager.class);
  Reflections reflections=null;
  if (modManager != null) {
    reflections=new Reflections(modManager.configurationForActiveMods().setScanners(new SubTypesScanner()));
  }
 else {
    reflections=new Reflections(new ConfigurationBuilder().setScanners(new SubTypesScanner()));
  }
  Set<Class<? extends Component>> componentTypes=reflections.getSubTypesOf(Component.class);
  for (  Class<? extends Component> componentType : componentTypes) {
    library.registerComponentClass(componentType);
  }
}
