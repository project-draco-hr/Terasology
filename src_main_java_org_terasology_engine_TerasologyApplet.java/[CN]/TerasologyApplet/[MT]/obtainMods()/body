{
  String[] mods=getParameter("mods").split(",");
  String modsPath=getParameter("mods_path") + "mods/";
  for (  String mod : mods) {
    try {
      URL url=new URL(modsPath + mod);
      try (ReadableByteChannel rbc=Channels.newChannel(url.openStream());SeekableByteChannel writeChannel=Files.newByteChannel(PathManager.getInstance().getHomeModPath().resolve(mod),StandardOpenOption.CREATE,StandardOpenOption.TRUNCATE_EXISTING,StandardOpenOption.WRITE)){
        ByteBuffer buffer=ByteBuffer.allocateDirect(1 << 24);
        while (rbc.read(buffer) != -1) {
          buffer.flip();
          writeChannel.write(buffer);
          buffer.compact();
        }
        buffer.flip();
        while (buffer.hasRemaining()) {
          writeChannel.write(buffer);
        }
      }
 catch (      FileNotFoundException e) {
        logger.error("Unable to obtain mod '{}'",mod,e);
      }
catch (      IOException e) {
        logger.error("Unable to obtain mod '{}'",mod,e);
      }
    }
 catch (    MalformedURLException e) {
      logger.error("Unable to obtain mod '{}'",mod,e);
    }
  }
}
