{
  this.chunkProvider=chunkProvider;
  this.worldProvider=worldProvider;
  bulletPhysics=new BulletPhysics(worldProvider);
  chunkTessellator=new ChunkTessellator(worldProvider.getBiomeProvider());
  skysphere=new Skysphere(this);
  chunkUpdateManager=new ChunkUpdateManager(chunkTessellator,worldProvider);
  worldTimeEventManager=new WorldTimeEventManager(worldProvider);
  systemManager=CoreRegistry.get(ComponentSystemManager.class);
  if (CoreRegistry.get(Config.class).getRendering().isOculusVrSupport()) {
    localPlayerCamera=new OculusStereoCamera();
  }
 else {
    localPlayerCamera=new PerspectiveCamera();
  }
  activeCamera=localPlayerCamera;
  mainDirectionalLight.lightType=LightComponent.LightType.DIRECTIONAL;
  mainDirectionalLight.lightColorAmbient=new Vector3f(1.0f,1.0f,1.0f);
  mainDirectionalLight.lightColorDiffuse=new Vector3f(1.0f,1.0f,1.0f);
  mainDirectionalLight.lightAmbientIntensity=2.0f;
  mainDirectionalLight.lightDiffuseIntensity=1.0f;
  mainDirectionalLight.lightSpecularIntensity=0.0f;
  localPlayerSystem.setPlayerCamera(localPlayerCamera);
  config=CoreRegistry.get(Config.class);
  initTimeEvents();
}
