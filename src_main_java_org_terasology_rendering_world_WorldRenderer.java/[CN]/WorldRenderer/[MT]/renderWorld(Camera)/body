{
  PerformanceMonitor.startActivity("Render Sky");
  camera.lookThroughNormalized();
  _skysphere.render();
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Render World");
  camera.lookThrough();
  if (Config.getInstance().isDebugCollision()) {
    renderDebugCollision(camera);
  }
  glEnable(GL_LIGHT0);
  boolean headUnderWater;
  headUnderWater=_cameraMode == CAMERA_MODE.PLAYER && isUnderWater();
  if (_wireframe)   glPolygonMode(GL_FRONT_AND_BACK,GL_LINE);
  PerformanceMonitor.startActivity("Render Objects (Opaque)");
  for (  RenderSystem renderer : _systemManager.iterateRenderSubscribers()) {
    renderer.renderOpaque();
  }
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Render Chunks (Opaque)");
  while (_renderQueueChunksOpaque.size() > 0)   renderChunk(_renderQueueChunksOpaque.poll(),ChunkMesh.RENDER_PHASE.OPAQUE,camera);
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Render Chunks (Transparent)");
  glEnable(GL_BLEND);
  glBlendFunc(GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA);
  while (_renderQueueChunksSortedBillboards.size() > 0)   renderChunk(_renderQueueChunksSortedBillboards.poll(),ChunkMesh.RENDER_PHASE.BILLBOARD_AND_TRANSLUCENT,camera);
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Render Objects (Transparent)");
  for (  RenderSystem renderer : _systemManager.iterateRenderSubscribers()) {
    renderer.renderTransparent();
  }
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Render Chunks (Water, Ice)");
  if (headUnderWater) {
    glDisable(GL11.GL_CULL_FACE);
  }
  while (_renderQueueChunksSortedWater.size() > 0) {
    Chunk c=_renderQueueChunksSortedWater.poll();
    for (int j=0; j < 2; j++) {
      if (j == 0) {
        glColorMask(false,false,false,false);
        renderChunk(c,ChunkMesh.RENDER_PHASE.WATER_AND_ICE,camera);
      }
 else {
        glColorMask(true,true,true,true);
        renderChunk(c,ChunkMesh.RENDER_PHASE.WATER_AND_ICE,camera);
      }
    }
  }
  for (  RenderSystem renderer : _systemManager.iterateRenderSubscribers()) {
    renderer.renderOverlay();
  }
  glDisable(GL_BLEND);
  if (headUnderWater)   glEnable(GL11.GL_CULL_FACE);
  if (_wireframe)   glPolygonMode(GL_FRONT_AND_BACK,GL_FILL);
  glDisable(GL_LIGHT0);
  PerformanceMonitor.endActivity();
}
