{
  if (player == null || !player.isValid())   return;
  CharacterComponent player=this.player.getCharacterEntity().getComponent(CharacterComponent.class);
  Vector3f cameraPosition=new Vector3f(player.spawnPosition);
  cameraPosition.y+=32;
  cameraPosition.x+=Math.sin(getTick() * 0.0005f) * 32f;
  cameraPosition.z+=Math.cos(getTick() * 0.0005f) * 32f;
  Vector3f playerToCamera=new Vector3f();
  playerToCamera.sub(getPlayerPosition(),cameraPosition);
  double distanceToPlayer=playerToCamera.length();
  Vector3f cameraDirection=new Vector3f();
  if (distanceToPlayer > 64.0) {
    cameraDirection.sub(player.spawnPosition,cameraPosition);
  }
 else {
    cameraDirection.set(playerToCamera);
  }
  cameraDirection.normalize();
  spawnCamera.getPosition().set(cameraPosition);
  spawnCamera.getViewingDirection().set(cameraDirection);
}
