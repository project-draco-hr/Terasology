{
  if (!_portalManager.hasPortal()) {
    Vector3f loc=new Vector3f(getPlayerPosition().x,getPlayerPosition().y + 4,getPlayerPosition().z);
    logger.debug("Portal location is {}",loc);
    Vector3i pos=new Vector3i(loc.x,loc.y,loc.z,0.5f);
    while (true) {
      Block oldBlock=_worldProvider.getBlock(pos);
      if (_worldProvider.setBlock(pos,BlockManager.getInstance().getBlock("engine:portal"),oldBlock)) {
        break;
      }
      return;
    }
    _portalManager.addPortal(loc);
  }
}
