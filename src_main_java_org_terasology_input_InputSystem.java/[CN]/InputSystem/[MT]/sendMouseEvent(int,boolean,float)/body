{
  MouseButtonEvent event;
switch (button) {
case -1:
    return false;
case 0:
  event=(buttonDown) ? LeftMouseDownButtonEvent.create(delta) : LeftMouseUpButtonEvent.create(delta);
break;
case 1:
event=(buttonDown) ? RightMouseDownButtonEvent.create(delta) : RightMouseUpButtonEvent.create(delta);
break;
default :
event=(buttonDown) ? MouseDownButtonEvent.create(button,delta) : MouseUpButtonEvent.create(button,delta);
break;
}
setupTarget(event);
for (EntityRef entity : getInputEntities()) {
entity.send(event);
}
return event.isConsumed();
}
