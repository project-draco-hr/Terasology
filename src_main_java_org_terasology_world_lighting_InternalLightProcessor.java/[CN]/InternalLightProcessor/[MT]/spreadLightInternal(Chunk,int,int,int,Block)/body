{
  byte lightValue=chunk.getLight(x,y,z);
  if (lightValue <= 1)   return;
  for (  Side adjDir : Side.values()) {
    int adjX=x + adjDir.getVector3i().x;
    int adjY=y + adjDir.getVector3i().y;
    int adjZ=z + adjDir.getVector3i().z;
    if (chunk.isInBounds(adjX,adjY,adjZ)) {
      byte adjLightValue=chunk.getLight(adjX,adjY,adjZ);
      Block adjBlock=chunk.getBlock(adjX,adjY,adjZ);
      if (adjLightValue < lightValue - 1 && LightingUtil.canSpreadLightOutOf(block,adjDir) && LightingUtil.canSpreadLightInto(adjBlock,adjDir.reverse())) {
        chunk.setLight(adjX,adjY,adjZ,(byte)(lightValue - 1));
        spreadLightInternal(chunk,adjX,adjY,adjZ,adjBlock);
      }
    }
  }
}
