{
  BufferedImage image=ImageIO.read(stream);
  if (!TeraMath.isPowerOfTwo(image.getHeight()) || !(image.getWidth() == image.getHeight())) {
    throw new IOException("Invalid tile - must be square with power-of-two sides");
  }
  return new TileData(image);
}
