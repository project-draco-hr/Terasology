{
  canvas.preRender();
  Deque<UIScreenLayer> screensToRender=Queues.newArrayDeque();
  for (  UIScreenLayer layer : screens) {
    screensToRender.push(layer);
    if (!layer.isLowerLayerVisible()) {
      break;
    }
  }
  for (  UIScreenLayer screen : screensToRender) {
    canvas.drawWidget(screen,animRegion);
    throw new IllegalStateException("minx=" + canvas.getRegion().minX() + " miny="+ canvas.getRegion().minY()+ " maxx="+ canvas.getRegion().maxX()+ " maxy="+ canvas.getRegion().maxY());
  }
  for (  ControlWidget overlay : overlays.values()) {
    canvas.drawWidget(overlay);
  }
  canvas.postRender();
}
