{
  canvas.preRender();
  if (closeAnim != null) {
    animCanvasSize=canvas.getRegion();
  }
 else {
    animRegion=canvas.getRegion();
  }
  Deque<UIScreenLayer> screensToRender=Queues.newArrayDeque();
  for (  UIScreenLayer layer : screens) {
    screensToRender.push(layer);
    if (!layer.isLowerLayerVisible()) {
      break;
    }
  }
  if (animRegion == null) {
    animRegion=animCanvasSize;
  }
  for (  UIScreenLayer screen : screensToRender) {
    canvas.drawWidget(screen,animRegion);
  }
  for (  ControlWidget overlay : overlays.values()) {
    canvas.drawWidget(overlay);
  }
  canvas.postRender();
}
