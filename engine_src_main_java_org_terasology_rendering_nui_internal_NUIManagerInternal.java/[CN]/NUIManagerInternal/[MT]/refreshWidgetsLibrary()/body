{
  widgetsLibrary=new WidgetLibrary(CoreRegistry.get(ReflectFactory.class),CoreRegistry.get(CopyStrategyLibrary.class));
  ModuleEnvironment environment=CoreRegistry.get(ModuleManager.class).getEnvironment();
  for (  Class<? extends UIWidget> type : environment.getSubtypesOf(UIWidget.class)) {
    widgetsLibrary.register(new SimpleUri(environment.getModuleProviding(type),type.getSimpleName()),type);
  }
}
