{
  canvas.processMousePosition(Mouse.getPosition());
  for (  UIScreenLayer screen : screens) {
    screen.update(delta);
  }
  for (  ControlWidget widget : overlays.values()) {
    widget.update(delta);
  }
  InputSystem inputSystem=context.get(InputSystem.class);
  GameEngine engine=context.get(GameEngine.class);
  inputSystem.getMouseDevice().setGrabbed(engine.hasMouseFocus() && !(this.isReleasingMouse()));
}
