{
  ShaderManager.getInstance().enableShader("chunk");
  TextureManager.getInstance().bindTexture("terrain");
  int daylight=GL20.glGetUniformLocation(ShaderManager.getInstance().getShader("chunk"),"daylight");
  int swimming=GL20.glGetUniformLocation(ShaderManager.getInstance().getShader("chunk"),"swimming");
  int tick=GL20.glGetUniformLocation(ShaderManager.getInstance().getShader("chunk"),"tick");
  GL20.glUniform1f(tick,_tick);
  GL20.glUniform1f(daylight,getDaylight());
  GL20.glUniform1i(swimming,_player.isHeadUnderWater() ? 1 : 0);
  for (int i=0; i < _visibleChunks.size(); i++) {
    Chunk c=_visibleChunks.get(i);
    c.render(ChunkMesh.RENDER_TYPE.OPAQUE);
    if ((Boolean)ConfigurationManager.getInstance().getConfig().get("System.Debug.chunkOutlines")) {
      c.getAABB().render();
    }
  }
  ShaderManager.getInstance().enableShader(null);
  _mobManager.renderAll();
  ShaderManager.getInstance().enableShader("block");
  _bulletPhysicsRenderer.render();
  ShaderManager.getInstance().enableShader("chunk");
  TextureManager.getInstance().bindTexture("custom_lava_still");
  for (int i=0; i < _visibleChunks.size(); i++) {
    Chunk c=_visibleChunks.get(i);
    c.render(ChunkMesh.RENDER_TYPE.LAVA);
  }
  TextureManager.getInstance().bindTexture("terrain");
  for (int i=0; i < _visibleChunks.size(); i++) {
    Chunk c=_visibleChunks.get(i);
    c.render(ChunkMesh.RENDER_TYPE.BILLBOARD_AND_TRANSLUCENT);
  }
  TextureManager.getInstance().bindTexture("custom_water_still");
  for (int j=0; j < 2; j++) {
    for (int i=0; i < _visibleChunks.size(); i++) {
      Chunk c=_visibleChunks.get(i);
      if (j == 0) {
        glColorMask(false,false,false,false);
      }
 else {
        glColorMask(true,true,true,true);
      }
      c.render(ChunkMesh.RENDER_TYPE.WATER);
    }
  }
  ShaderManager.getInstance().enableShader(null);
}
