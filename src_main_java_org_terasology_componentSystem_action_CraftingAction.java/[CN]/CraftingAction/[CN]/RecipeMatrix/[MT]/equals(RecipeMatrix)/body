{
  if (recipe.size() != matrix.recipe.size()) {
    return false;
  }
  for (int i=0; i < 4; i++) {
    if (matrix.width != width && matrix.height != height) {
      matrix=matrix.rotate();
      continue;
    }
    boolean found=true;
    for (    String key : recipe.keySet()) {
      int trace1=getTrace(key);
      int trace2=matrix.getTrace(key);
      if (getTrace(key) != matrix.getTrace(key) || !recipe.get(key).equals(matrix.recipe.get(key))) {
        found=false;
        break;
      }
    }
    if (found) {
      return true;
    }
    matrix=matrix.rotate();
  }
  for (  String key : recipe.keySet()) {
    if (!matrix.recipe.containsKey(key)) {
      return false;
    }
  }
  return false;
}
