{
  MessageManager.getInstance().addMessage("Client connected: " + message.getName());
  client.setConnected();
  client.setName(message.getName());
  ServerInfoMessage.Builder serverInfoMessageBuilder=ServerInfoMessage.newBuilder();
  WorldProvider world=CoreRegistry.get(WorldProvider.class);
  serverInfoMessageBuilder.setTime(world.getTime());
  serverInfoMessageBuilder.setWorldName(world.getTitle());
  for (  Mod mod : CoreRegistry.get(ModManager.class).getActiveMods()) {
    serverInfoMessageBuilder.addModule(ModuleInfo.newBuilder().setModuleId(mod.getModInfo().getId()).build());
  }
  for (  Map.Entry<String,Byte> blockMapping : BlockManager.getInstance().getBlockIdMap().entrySet()) {
    serverInfoMessageBuilder.addBlockMapping(BlockMapping.newBuilder().setBlockId(blockMapping.getValue()).setBlockName(blockMapping.getKey()));
  }
  client.send(NetMessage.newBuilder().setType(NetMessage.Type.SERVER_INFO).setServerInfo(serverInfoMessageBuilder.build()).build());
  networkSystem.addClient(client);
}
