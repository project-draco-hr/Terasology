{
  Spawner spawner=worldGenerator.getSpawner();
  World world=worldGenerator.getWorld();
  Vector3f spawnPos=spawner.getSpawnPosition(world,clientEntity);
  ClientComponent client=clientEntity.getComponent(ClientComponent.class);
  if (client != null) {
    PlayerFactory playerFactory=new PlayerFactory(entityManager);
    float heightOffset=1.5f;
    Vector3f spawnPosition=new Vector3f(spawnPos.x,spawnPos.y + heightOffset,spawnPos.z);
    EntityRef playerCharacter=playerFactory.newInstance(spawnPosition,clientEntity);
    Location.attachChild(playerCharacter,clientEntity,new Vector3f(),new Quat4f(0,0,0,1));
    Client clientListener=networkSystem.getOwner(clientEntity);
    Vector3i distance=clientListener.getViewDistance().getChunkDistance();
    updateRelevanceEntity(clientEntity,distance);
    client.character=playerCharacter;
    clientEntity.saveComponent(client);
    playerCharacter.send(new OnPlayerSpawnedEvent());
  }
}
