{
  int targetBlockX=TeraMath.floorToInt(targetPos.x);
  int targetBlockY=TeraMath.floorToInt(targetPos.y);
  int targetBlockZ=TeraMath.floorToInt(targetPos.z);
  for (  BaseVector2i pos : SpiralIterable.clockwise(new Vector2i(targetBlockX,targetBlockZ),4)) {
    Vector3i testPos=new Vector3i(pos.getX(),targetBlockY,pos.getY());
    Vector3i spawnPos=findOpenVerticalPosition(testPos,playerHeight);
    if (spawnPos != null) {
      return new Vector3f(spawnPos.getX(),spawnPos.getY() + playerHeight,spawnPos.getZ());
    }
  }
  return null;
}
