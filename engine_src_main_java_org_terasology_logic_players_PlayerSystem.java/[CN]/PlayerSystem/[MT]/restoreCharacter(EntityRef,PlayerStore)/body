{
  playerStore.restoreEntities();
  EntityRef character=playerStore.getCharacter();
  if (character == null) {
    spawnPlayer(entity,new Vector3i(ChunkConstants.SIZE_X / 2,ChunkConstants.SIZE_Y,ChunkConstants.SIZE_Z / 2));
  }
 else {
    Client clientListener=networkSystem.getOwner(entity);
    int distance=clientListener.getViewDistance().getChunkDistance();
    if (!clientListener.isLocal()) {
      distance+=ChunkConstants.REMOTE_GENERATION_DISTANCE;
    }
    worldRenderer.getChunkProvider().updateRelevanceEntity(entity,distance);
    ClientComponent client=entity.getComponent(ClientComponent.class);
    client.character=character;
    entity.saveComponent(client);
    CharacterComponent characterComp=character.getComponent(CharacterComponent.class);
    if (characterComp != null) {
      characterComp.controller=entity;
      character.saveComponent(characterComp);
      character.setOwner(entity);
      Location.attachChild(character,entity,new Vector3f(),new Quat4f(0,0,0,1));
    }
 else {
      character.destroy();
      spawnPlayer(entity,new Vector3i(ChunkConstants.SIZE_X / 2,ChunkConstants.SIZE_Y,ChunkConstants.SIZE_Z / 2));
    }
  }
}
