{
  Iterator<SpawningClientInfo> i=clientsPreparingToSpawn.iterator();
  while (i.hasNext()) {
    SpawningClientInfo spawning=i.next();
    if (worldProvider.isBlockRelevant(spawning.position)) {
      if (spawning.playerStore == null) {
        spawnPlayer(spawning.clientEntity,getSafeSpawnPosition());
      }
 else       if (!spawning.playerStore.hasCharacter()) {
        spawning.playerStore.restoreEntities();
        spawnPlayer(spawning.clientEntity,getSafeSpawnPosition());
      }
 else {
        restoreCharacter(spawning.clientEntity,spawning.playerStore);
      }
      i.remove();
    }
  }
}
