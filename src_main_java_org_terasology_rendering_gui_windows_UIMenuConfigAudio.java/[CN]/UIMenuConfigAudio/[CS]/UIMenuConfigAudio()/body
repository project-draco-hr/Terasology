{
  final AudioConfig config=CoreRegistry.get(Config.class).getAudio();
  setId("config:audio");
  setBackgroundImage("engine:loadingbackground");
  setModal(true);
  setCloseBinds(new String[]{});
  setCloseKeys(new int[]{Keyboard.KEY_ESCAPE});
  maximize();
  title=new UIImage(Assets.getTexture("engine:terasology"));
  title.setHorizontalAlign(EHorizontalAlign.CENTER);
  title.setPosition(new Vector2f(0f,128f));
  title.setVisible(true);
  title.setSize(new Vector2f(512f,128f));
  version=new UILabel("Audio Settings");
  version.setHorizontalAlign(EHorizontalAlign.CENTER);
  version.setPosition(new Vector2f(0f,230f));
  version.setVisible(true);
  soundOptionSlider=new UISlider(new Vector2f(256f,32f),0,100);
  soundOptionSlider.addChangedListener(new ChangedListener(){
    @Override public void changed(    UIDisplayElement element){
      UISlider slider=(UISlider)element;
      if (slider.getValue() > 0) {
        slider.setText("Sound Volume: " + String.valueOf(slider.getValue()));
      }
 else {
        slider.setText("Sound Volume: Off");
      }
      config.setSoundVolume(slider.getValue() / 100f);
    }
  }
);
  soundOptionSlider.setHorizontalAlign(EHorizontalAlign.CENTER);
  soundOptionSlider.setPosition(new Vector2f(0f,300f));
  soundOptionSlider.setVisible(true);
  musicOptionSlider=new UISlider(new Vector2f(256f,32f),0,100);
  musicOptionSlider.addChangedListener(new ChangedListener(){
    @Override public void changed(    UIDisplayElement element){
      UISlider slider=(UISlider)element;
      if (slider.getValue() > 0) {
        slider.setText("Music Volume: " + String.valueOf(slider.getValue()));
      }
 else {
        slider.setText("Music Volume: Off");
      }
      config.setMusicVolume(slider.getValue() / 100f);
    }
  }
);
  musicOptionSlider.setHorizontalAlign(EHorizontalAlign.CENTER);
  musicOptionSlider.setPosition(new Vector2f(0f,300f + 40f));
  musicOptionSlider.setVisible(true);
  backToConfigMenuButton=new UIButton(new Vector2f(256f,32f),UIButton.ButtonType.NORMAL);
  backToConfigMenuButton.getLabel().setText("Back");
  backToConfigMenuButton.addClickListener(new ClickListener(){
    @Override public void click(    UIDisplayElement element,    int button){
      getGUIManager().openWindow("config");
    }
  }
);
  backToConfigMenuButton.setHorizontalAlign(EHorizontalAlign.CENTER);
  backToConfigMenuButton.setPosition(new Vector2f(0f,300f + 7 * 40f));
  backToConfigMenuButton.setVisible(true);
  addDisplayElement(title);
  addDisplayElement(version);
  addDisplayElement(soundOptionSlider);
  addDisplayElement(musicOptionSlider);
  addDisplayElement(backToConfigMenuButton);
  setup(config);
}
