{
  Camera camera=CoreRegistry.get(WorldRenderer.class).getActiveCamera();
  Vector3f spawnPos=camera.getPosition();
  Vector3f offset=camera.getViewingDirection();
  offset.scale(3);
  spawnPos.add(offset);
  BlockFamily blockFamily;
  List<BlockUri> matchingUris=resolveBlockUri(blockName);
  if (matchingUris.size() == 1) {
    blockFamily=BlockManager.getInstance().getBlockFamily(matchingUris.get(0));
  }
 else   if (matchingUris.isEmpty()) {
    MessageManager.getInstance().addMessage("No block found for '" + blockName + "'",EMessageScope.PRIVATE);
    return;
  }
 else {
    StringBuilder builder=new StringBuilder();
    builder.append("Non-unique block name, possible matches: ");
    Joiner.on(", ").appendTo(builder,matchingUris);
    MessageManager.getInstance().addMessage(builder.toString(),EMessageScope.PRIVATE);
    return;
  }
  WorldProvider provider=CoreRegistry.get(WorldProvider.class);
  if (provider != null) {
    Block oldBlock=provider.getBlock((int)spawnPos.x,(int)spawnPos.y,(int)spawnPos.z);
    provider.setBlock((int)spawnPos.x,(int)spawnPos.y,(int)spawnPos.z,blockFamily.getArchetypeBlock(),oldBlock);
    StringBuilder builder=new StringBuilder();
    builder.append(blockFamily.getArchetypeBlock());
    builder.append(" block placed at position (");
    builder.append((int)spawnPos.x).append((int)spawnPos.y).append((int)spawnPos.z).append(")");
    MessageManager.getInstance().addMessage(builder.toString());
    return;
  }
  MessageManager.getInstance().addMessage("Sorry, something went wrong!");
}
