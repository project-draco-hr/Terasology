{
  Prefab prefab=CoreRegistry.get(PrefabManager.class).getPrefab(itemPrefabName);
  System.out.println("Found prefab: " + prefab);
  if (prefab != null && prefab.getComponent(ItemComponent.class) != null) {
    EntityRef item=CoreRegistry.get(EntityManager.class).create(prefab);
    EntityRef playerEntity=CoreRegistry.get(LocalPlayer.class).getEntity();
    playerEntity.send(new ReceiveItemEvent(item));
    ItemComponent itemComp=item.getComponent(ItemComponent.class);
    if (itemComp != null && !itemComp.container.exists()) {
      item.destroy();
    }
    MessageManager.getInstance().addMessage("You received an item of " + prefab.getName());
  }
 else {
    giveBlock(itemPrefabName);
  }
}
