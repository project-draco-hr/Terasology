{
  super.onOpened();
  CoreRegistry.put(WorldGeneratorPluginLibrary.class,new TempWorldGeneratorPluginLibrary());
  WorldGeneratorInfo info=worldGeneratorManager.getWorldGeneratorInfo(config.getWorldGeneration().getDefaultGenerator());
  try {
    worldGenerator=worldGeneratorManager.createGenerator(info.getUri());
    worldGenerator.setWorldSeed(seed.getText());
  }
 catch (  Exception e) {
    worldGenerator=null;
    logger.error("Unable to load world generator: " + info.getUri().toString() + " for a 2d preview",e);
  }
}
