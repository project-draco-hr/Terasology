{
  if (depth > oldLightValue || oldLightValue <= 0) {
    return;
  }
  int blockPosX=getBlockWorldPosX(x);
  int blockPosY=getBlockWorldPosY(y);
  int blockPosZ=getBlockWorldPosZ(z);
  byte val1=_parent.getLight(blockPosX + 1,blockPosY,blockPosZ,type);
  byte type1=_parent.getBlock(blockPosX + 1,blockPosY,blockPosZ);
  byte val2=_parent.getLight(blockPosX - 1,blockPosY,blockPosZ,type);
  byte type2=_parent.getBlock(blockPosX - 1,blockPosY,blockPosZ);
  byte val3=_parent.getLight(blockPosX,blockPosY,blockPosZ + 1,type);
  byte type3=_parent.getBlock(blockPosX,blockPosY,blockPosZ + 1);
  byte val4=_parent.getLight(blockPosX,blockPosY,blockPosZ - 1,type);
  byte type4=_parent.getBlock(blockPosX,blockPosY,blockPosZ - 1);
  byte val5=_parent.getLight(blockPosX,blockPosY + 1,blockPosZ,type);
  byte type5=_parent.getBlock(blockPosX,blockPosY + 1,blockPosZ);
  byte val6=_parent.getLight(blockPosX,blockPosY - 1,blockPosZ,type);
  byte type6=_parent.getBlock(blockPosX,blockPosY - 1,blockPosZ);
  byte newLightValue=(byte)(oldLightValue - depth);
  if (newLightValue <= 0) {
    return;
  }
  _parent.setLight(blockPosX,blockPosY,blockPosZ,(byte)0,type);
  if (val1 < newLightValue && val1 > 0 && Block.getBlockForType(type1).isBlockTypeTranslucent()) {
    _parent.unspreadLight(blockPosX + 1,blockPosY,blockPosZ,oldLightValue,depth + 1,type,lightSources);
  }
 else   if (val1 >= newLightValue) {
    lightSources.add(new LightNode(x + 1,y,z,val1));
  }
  if (val2 < newLightValue && val2 > 0 && Block.getBlockForType(type2).isBlockTypeTranslucent()) {
    _parent.unspreadLight(blockPosX - 1,blockPosY,blockPosZ,oldLightValue,depth + 1,type,lightSources);
  }
 else   if (val2 >= newLightValue) {
    lightSources.add(new LightNode(x - 1,y,z,val2));
  }
  if (val3 < newLightValue && val3 > 0 && Block.getBlockForType(type3).isBlockTypeTranslucent()) {
    _parent.unspreadLight(blockPosX,blockPosY,blockPosZ + 1,oldLightValue,depth + 1,type,lightSources);
  }
 else   if (val3 >= newLightValue) {
    lightSources.add(new LightNode(x,y,z + 1,val3));
  }
  if (val4 < newLightValue && val4 > 0 && Block.getBlockForType(type4).isBlockTypeTranslucent()) {
    _parent.unspreadLight(blockPosX,blockPosY,blockPosZ - 1,oldLightValue,depth + 1,type,lightSources);
  }
 else   if (val4 >= oldLightValue) {
    lightSources.add(new LightNode(x,y,z - 1,val4));
  }
  if (val5 < newLightValue && val5 > 0 && Block.getBlockForType(type5).isBlockTypeTranslucent()) {
    _parent.unspreadLight(blockPosX,blockPosY + 1,blockPosZ,oldLightValue,depth + 1,type,lightSources);
  }
 else   if (val5 >= newLightValue) {
    lightSources.add(new LightNode(x,y + 1,z,val5));
  }
  if (val6 < newLightValue && val6 > 0 && Block.getBlockForType(type6).isBlockTypeTranslucent()) {
    _parent.unspreadLight(blockPosX,blockPosY - 1,blockPosZ,oldLightValue,depth + 1,type,lightSources);
  }
 else   if (val6 >= newLightValue) {
    lightSources.add(new LightNode(x,y - 1,z,val6));
  }
}
