{
  if (x < 0 || z < 0 || y < 0) {
    return;
  }
  if (isFresh()) {
    return;
  }
  byte[][][] lSource;
  if (type == LIGHT_TYPE.SUN) {
    lSource=_sunlight;
  }
 else   if (type == LIGHT_TYPE.BLOCK) {
    lSource=_light;
  }
 else {
    return;
  }
  if (Helper.getInstance().checkBounds3D(x,y,z,_sunlight)) {
    byte oldValue=lSource[x][y][z];
    lSource[x][y][z]=intensity;
    if (oldValue != intensity) {
      setDirty(true);
      markNeighborsDirty(x,z);
    }
  }
}
