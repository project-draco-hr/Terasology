{
  int blockPosX=getBlockWorldPosX(x);
  int blockPosY=getBlockWorldPosY(y);
  int blockPosZ=getBlockWorldPosZ(z);
  byte val=getBlock(x,y,z);
  if (!Block.getBlockForType(val).isBlockTypeTranslucent()) {
    setLight(x,y,z,(byte)0,type);
  }
 else {
    byte val1=_parent.getLight(blockPosX + 1,blockPosY,blockPosZ,type);
    byte val2=_parent.getLight(blockPosX - 1,blockPosY,blockPosZ,type);
    byte val3=_parent.getLight(blockPosX,blockPosY,blockPosZ + 1,type);
    byte val4=_parent.getLight(blockPosX,blockPosY,blockPosZ - 1,type);
    byte val5=_parent.getLight(blockPosX,blockPosY + 1,blockPosZ,type);
    byte val6=_parent.getLight(blockPosX,blockPosY - 1,blockPosZ,type);
    byte max=(byte)(Math.max(Math.max(Math.max(val1,val2),Math.max(val3,val4)),Math.max(val5,val6)) - 1);
    if (max < 0) {
      max=0;
    }
    setLight(x,y,z,max,type);
  }
}
