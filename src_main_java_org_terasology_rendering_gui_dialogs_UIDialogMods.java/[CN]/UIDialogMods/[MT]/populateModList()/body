{
  ModManager modManager=CoreRegistry.get(ModManager.class);
  List<Mod> mods=Lists.newArrayList(modManager.getMods());
  Collections.sort(mods,new Comparator<Mod>(){
    @Override public int compare(    Mod o1,    Mod o2){
      return o1.getModInfo().getDisplayName().compareTo(o2.getModInfo().getDisplayName());
    }
  }
);
  for (  Mod mod : mods) {
    UIListItem item=new UIListItem(mod.getModInfo().getDisplayName(),mod);
    item.setPadding(new Vector4f(2f,5f,2f,5f));
    if (modConfig.hasMod(mod.getModInfo().getId())) {
      item.setTextColor(ACTIVE_TEXT_COLOR);
      item.setTextSelectionColor(ACTIVE_SELECTED_TEXT_COLOR);
    }
 else {
      item.setTextColor(INACTIVE_TEXT_COLOR);
      item.setTextSelectionColor(INACTIVE_SELECTED_TEXT_COLOR);
    }
    modList.addItem(item);
  }
  modList.addSelectionListener(new SelectionListener(){
    @Override public void changed(    UIDisplayElement element){
      Mod mod=(Mod)modList.getSelection().getValue();
      detailPanel.setVisible(true);
      nameLabel.setText(mod.getModInfo().getDisplayName());
      descriptionLabel.setText(mod.getModInfo().getDescription());
      boolean active=modConfig.hasMod(mod.getModInfo().getId());
      if (active) {
        toggleButton.getLabel().setText(DEACTIVATE_TEXT);
      }
 else {
        toggleButton.getLabel().setText(ACTIVATE_TEXT);
      }
      toggleButton.setVisible(!mod.getModInfo().getId().equals("core"));
    }
  }
);
  toggleButton.addClickListener(new ClickListener(){
    @Override public void click(    UIDisplayElement element,    int button){
      Mod selectedMod=(Mod)modList.getSelection().getValue();
      if (modConfig.hasMod(selectedMod.getModInfo().getId())) {
        modConfig.removeMod(selectedMod.getModInfo().getId());
        toggleButton.getLabel().setText(ACTIVATE_TEXT);
        modList.getSelection().setTextColor(INACTIVE_TEXT_COLOR);
        modList.getSelection().setTextSelectionColor(INACTIVE_SELECTED_TEXT_COLOR);
      }
 else {
        modConfig.addMod(selectedMod.getModInfo().getId());
        toggleButton.getLabel().setText(DEACTIVATE_TEXT);
        modList.getSelection().setTextColor(ACTIVE_TEXT_COLOR);
        modList.getSelection().setTextSelectionColor(ACTIVE_SELECTED_TEXT_COLOR);
      }
    }
  }
);
}
