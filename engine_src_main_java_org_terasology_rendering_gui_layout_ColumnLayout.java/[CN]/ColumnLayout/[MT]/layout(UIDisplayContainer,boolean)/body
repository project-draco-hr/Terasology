{
  List<UIDisplayElement> allElements=container.getDisplayElements();
  List<UIDisplayElement> elements=new ArrayList<UIDisplayElement>();
  for (  UIDisplayElement element : allElements) {
    if (element.isVisible() && !(element instanceof Style)) {
      elements.add(element);
    }
  }
  Vector2f[] cellSize=calcCellSize(elements);
  float y=border;
  for (int i=0; i < cellSize.length; i++) {
    elements.get(i).setPosition(new Vector2f(border,y));
    elements.get(i).setSize(new Vector2f(cellSize[i].x,cellSize[i].y));
    y+=cellSize[i].y + spacingVertical;
  }
  if (fitSize) {
    Vector2f size=new Vector2f(0f,0f);
    for (int i=0; i < cellSize.length; i++) {
      size.x=Math.max(size.x,cellSize[i].x);
      size.y+=cellSize[i].y;
    }
    size.y-=spacingVertical;
    container.setSize(size);
  }
}
