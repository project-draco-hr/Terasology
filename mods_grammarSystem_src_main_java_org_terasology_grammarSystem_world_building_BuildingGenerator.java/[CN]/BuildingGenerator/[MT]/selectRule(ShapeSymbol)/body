{
  if (!ruleMap.containsKey(symbol.getLabel()))   throw new RuntimeException("Symbol " + symbol.toString() + " not in lookup table");
  List<Shape> successorShapes=ruleMap.get(symbol.getLabel());
  if (successorShapes == null) {
    throw new RuntimeException("Symbol " + symbol.toString() + " not in lookup table");
  }
  int index=rand.nextInt(successorShapes.size());
  return successorShapes.get(index).clone();
}
