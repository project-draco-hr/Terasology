{
  Set<EventHandlerInfo> selectedHandlersSet=selectEventHandlers(event.getClass(),entity);
  List<EventHandlerInfo> selectedHandlers=Lists.newArrayList(selectedHandlersSet);
  Collections.sort(selectedHandlers,priorityComparator);
  for (  EventHandlerInfo handler : selectedHandlers) {
    if (handler.isValidFor(entity)) {
      handler.invoke(entity,event);
      if (event.isCancelled())       return;
    }
  }
}
