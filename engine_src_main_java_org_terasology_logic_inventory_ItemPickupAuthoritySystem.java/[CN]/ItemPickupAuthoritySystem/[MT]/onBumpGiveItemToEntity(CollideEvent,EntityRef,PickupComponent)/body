{
  ItemComponent itemComponent=entity.getComponent(ItemComponent.class);
  if (itemComponent != null) {
    if (itemComponent.pickUpTime + itemComponent.timeToPickUp < time.getGameTimeInMs()) {
      GiveItemEvent giveItemEvent=new GiveItemEvent(event.getOtherEntity());
      entity.send(giveItemEvent);
      if (giveItemEvent.isHandled()) {
        for (        Component component : itemComponent.pickupPrefab.iterateComponents()) {
          entity.removeComponent(component.getClass());
        }
      }
    }
  }
}
