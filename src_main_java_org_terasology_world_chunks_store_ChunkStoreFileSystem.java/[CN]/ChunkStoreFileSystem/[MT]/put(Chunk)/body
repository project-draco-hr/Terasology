{
  if (!worldPath.exists()) {
    if (!worldPath.mkdirs()) {
      logger.error("Failed to create save directory, aborting save.");
      return;
    }
  }
  File f=new File(worldPath,getFileNameFor(c.getPos()));
  try {
    FileOutputStream fileOut=new FileOutputStream(f);
    ObjectOutputStream out=new ObjectOutputStream(fileOut);
    out.writeObject(c);
    out.close();
    fileOut.close();
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
