{
  potion=entity.getComponent(PotionComponent.class);
  poisoned=entity.getComponent(PoisonedComponent.class);
  EntityManager entityManager=CoreRegister.get(EntityManager.class);
  HealthComponent health=event.getTarget().getComponent(HealthComponent.class);
  ItemComponent itemComp=entity.getComponent(ItemComponent.class);
  EntityRef item=entityManager.create("potions:emptyVial");
switch (potion.type) {
case Red:
    event.getInstigator().send(new BoostHpEvent());
  if (!inventoryManager.giveItem(event.getInstigator(),item)) {
    item.destroy();
  }
break;
case Green:
if (!inventoryManager.giveItem(event.getInstigator(),item)) {
item.destroy();
}
event.getInstigator().send(new PoisonedEvent());
break;
case Orange:
event.getInstigator().send(new CurePoisonEvent());
if (!inventoryManager.giveItem(event.getInstigator(),item)) {
item.destroy();
}
break;
case Purple:
if (!inventoryManager.giveItem(event.getInstigator(),item)) {
item.destroy();
}
event.getInstigator().send(new BoostSpeedEvent());
break;
default :
break;
}
audioManager.playSound(Assets.getSound("engine:drink"),1.0f);
}
