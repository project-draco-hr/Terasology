{
  UIStyle newStyle=state.skin.getStyleFor((widget.getFamily() != null) ? widget.getFamily() : state.family,widget.getClass(),widget.getMode());
  Rect2i regionArea=region;
  if (newStyle.getFixedWidth() != 0 || newStyle.getFixedHeight() != 0) {
    int newWidth=(newStyle.getFixedWidth() != 0) ? newStyle.getFixedWidth() : region.width();
    int newHeight=(newStyle.getFixedHeight() != 0) ? newStyle.getFixedHeight() : region.height();
    int newMinX=region.minX() + newStyle.getHorizontalAlignment().getOffset(newWidth,region.width());
    int newMinY=region.minY() + newStyle.getVerticalAlignment().getOffset(newHeight,region.height());
    regionArea=Rect2i.createFromMinAndSize(newMinX,newMinY,newWidth,newHeight);
  }
  try (SubRegion ignored=subRegion(regionArea,true)){
    setWidget(widget.getClass());
    if (widget.getFamily() != null) {
      setFamily(widget.getFamily());
    }
    setMode(widget.getMode());
    if (newStyle.isBackgroundAutomaticallyDrawn()) {
      drawBackground();
    }
    widget.onDraw(this);
  }
 }
