{
  if (state.drawOnTop) {
    drawOnTopOperations.add(new DrawLineOperation(startX + state.drawRegion.minX(),startY + state.drawRegion.minY(),state.drawRegion.minX() + endX,state.drawRegion.minY() + endY,color));
  }
 else {
    drawLineInternal(startX + state.drawRegion.minX(),startY + state.drawRegion.minY(),state.drawRegion.minX() + endX,state.drawRegion.minY() + endY,color);
  }
}
