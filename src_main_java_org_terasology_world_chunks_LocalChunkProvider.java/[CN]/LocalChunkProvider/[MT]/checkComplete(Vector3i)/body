{
  Chunk chunk=getChunk(pos);
  if (chunk != null && chunk.getChunkState() == Chunk.State.FULL_LIGHT_CONNECTIVITY_PENDING) {
    for (    Vector3i adjPos : Region3i.createFromCenterExtents(pos,LOCAL_REGION_EXTENTS)) {
      if (!adjPos.equals(pos)) {
        Chunk adjChunk=getChunk(adjPos);
        if (adjChunk == null || adjChunk.getChunkState().compareTo(Chunk.State.FULL_LIGHT_CONNECTIVITY_PENDING) < 0) {
          return;
        }
      }
    }
    logger.debug("Now complete {}",pos);
    chunk.setChunkState(Chunk.State.COMPLETE);
    AdvancedConfig config=CoreRegistry.get(org.terasology.config.Config.class).getAdvancedConfig();
    if (config.isChunkDeflationEnabled()) {
      if (!chunkTasksQueue.offer(new AbstractChunkTask(pos,this){
        @Override public void enact(){
          Chunk chunk=getChunk(getPosition());
          if (chunk != null) {
            chunk.deflate();
          }
        }
      }
)) {
        logger.warn("LocalChunkProvider.chunkTasksQueue rejected deflation task for chunk {}",pos);
      }
    }
    for (    Vector3i adjPos : Region3i.createFromCenterExtents(pos,LOCAL_REGION_EXTENTS)) {
      checkChunkReady(adjPos);
    }
  }
}
