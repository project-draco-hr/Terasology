{
  Vector2i availableSize=canvas.size();
  int numRows=TeraMath.ceilToInt((float)widgetList.size() / columns);
  if (numRows > 0) {
    availableSize.y-=verticalSpacing * (numRows - 1);
  }
  if (columns > 0) {
    availableSize.x-=horizontalSpacing * (columns - 1);
  }
  Iterator<List<UIWidget>> rows=getRowIterator();
  int height=0;
  while (rows.hasNext()) {
    List<UIWidget> row=rows.next();
    RowInfo rowInfo=calculateRowSize(row,canvas,availableSize);
    height+=rowInfo.size.y;
    if (rows.hasNext()) {
      height+=verticalSpacing;
    }
  }
  return new Vector2i(areaHint.x,height);
}
