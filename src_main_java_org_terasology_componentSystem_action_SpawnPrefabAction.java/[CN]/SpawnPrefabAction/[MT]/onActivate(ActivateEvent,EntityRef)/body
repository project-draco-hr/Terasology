{
  SpawnPrefabActionComponent spawnInfo=entity.getComponent(SpawnPrefabActionComponent.class);
  if (spawnInfo.prefab != null) {
    EntityRef newEntity=entityManager.create(spawnInfo.prefab);
    LocationComponent loc=newEntity.getComponent(LocationComponent.class);
    if (loc != null) {
switch (spawnInfo.spawnLocationRelativeTo) {
case Instigator:
        loc.setWorldPosition(event.getInstigatorLocation());
      break;
case Target:
    Vector3f pos=event.getTargetLocation();
  if (pos != null) {
    loc.setWorldPosition(pos);
  }
break;
}
newEntity.saveComponent(loc);
}
}
}
