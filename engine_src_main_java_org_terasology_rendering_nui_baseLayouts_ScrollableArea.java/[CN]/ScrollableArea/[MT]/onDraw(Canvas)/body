{
  int contentHeight=canvas.calculateSize(content,canvas.size()).y;
  if (canvas.size().y < contentHeight) {
    int scrollbarWidth=canvas.calculateSize(scrollbar,canvas.size()).x;
    contentHeight=canvas.calculateSize(content,new Vector2i(canvas.size().x - scrollbarWidth,canvas.size().y)).y;
    canvas.addInteractionRegion(scrollListener);
    canvas.drawElement(scrollbar,Rect2i.createFromMinAndSize(canvas.size().x - scrollbarWidth,0,scrollbarWidth,canvas.size().y));
    Rect2i contentRegion=Rect2i.createFromMinAndSize(0,0,canvas.size().x - scrollbarWidth,canvas.size().y);
    scrollbar.setRange(contentHeight - contentRegion.height());
    try (SubRegion ignored=canvas.subRegion(contentRegion,true)){
      canvas.drawElement(content,Rect2i.createFromMinAndSize(0,-scrollbar.getValue(),canvas.size().x,contentHeight));
    }
   }
 else {
    canvas.drawElement(content);
  }
}
