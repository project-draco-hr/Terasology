{
  ChunkImpl[] localChunks=new ChunkImpl[27];
  int index=0;
  for (int z=-1; z < 2; ++z) {
    for (int y=-1; y < 2; ++y) {
      for (int x=-1; x < 2; ++x) {
        ChunkImpl localChunk=chunkProvider.getChunk(chunk.getPos().x + x,chunk.getPos().y + y,chunk.getPos().z + z);
        if (localChunk != null) {
          localChunks[index]=localChunk;
        }
        index++;
      }
    }
  }
  return localChunks;
}
