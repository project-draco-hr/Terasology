{
  if (!prefabData.hasName() || prefabData.getName().isEmpty()) {
    logger.error("Prefab missing name");
    return null;
  }
  Prefab prefab=prefabManager.createPrefab(prefabData.getName());
  for (  String parentName : prefabData.getParentNameList()) {
    Prefab parent=prefabManager.getPrefab(parentName);
    if (parent == null) {
      logger.error("Missing parent prefab (need to fix parent serialization)");
    }
 else {
      prefab.addParent(parent);
    }
  }
  for (  EntityData.Component componentData : prefabData.getComponentList()) {
    Component component=componentSerializer.deserialize(componentData);
    if (component != null) {
      prefab.addComponent(component);
    }
  }
  return prefab;
}
