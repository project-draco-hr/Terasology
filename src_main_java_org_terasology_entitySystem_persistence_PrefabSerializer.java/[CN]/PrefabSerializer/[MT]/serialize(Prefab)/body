{
  EntityData.Prefab.Builder prefabData=EntityData.Prefab.newBuilder();
  prefabData.setName(prefab.getName());
  for (  Prefab parent : prefab.getParents()) {
    prefabData.addParentName(parent.getName());
  }
  prefabData.setPersisted(prefab.isPersisted());
  for (  Component component : prefab.iterateOwnedComponents()) {
    EntityData.Component componentData=componentSerializer.serialize(component);
    if (componentData != null) {
      prefabData.addComponent(componentData);
    }
  }
  return prefabData.build();
}
