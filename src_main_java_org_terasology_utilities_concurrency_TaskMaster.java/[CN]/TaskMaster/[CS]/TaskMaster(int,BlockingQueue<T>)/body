{
  this.threads=threads;
  if (threads <= 0) {
    throw new IllegalArgumentException("Must have at least one thread.");
  }
  taskQueue=queue;
  executorService=Executors.newFixedThreadPool(threads);
  for (int i=0; i < threads; ++i) {
    executorService.execute(new TaskProcessor(taskQueue));
  }
}
