{
  persistenceManager.registerPersistableClasses(TestPersistable.class);
  TestPersistable testPersist=new TestPersistable();
  LevelWriter writer=createLevelWriter();
  writer.write(testPersist);
  writer.close();
  assertFalse(writer.isInErrorState());
  LevelReader reader=createLevelReader();
  assertTrue(reader.hasNext());
  TestPersistable result=(TestPersistable)reader.next();
  assertFalse(reader.hasNext());
  assertEquals(new Vector3d(),result.vector3dVal);
}
