{
  ChunkImpl chunk=getProvider().getChunkForProcessing(getPosition());
  if (chunk == null) {
    return;
  }
  chunk.lock();
  try {
    if (chunk.isDisposed()) {
      return;
    }
    InternalLightProcessor.generateInternalLighting(chunk);
    chunk.deflate();
    getProvider().onChunkIsReady(chunk.getPos());
  }
  finally {
    chunk.unlock();
  }
}
