{
  storeMetadata.put(metadata.getId(),metadata);
  TLongIterator iterator=metadata.getExternalReferences().iterator();
  while (iterator.hasNext()) {
    long refId=iterator.next();
    List<StoreMetadata> tables=externalRefHolderLookup.get(refId);
    if (tables == null) {
      tables=Lists.newArrayList();
      externalRefHolderLookup.put(refId,tables);
    }
    tables.add(metadata);
  }
}
