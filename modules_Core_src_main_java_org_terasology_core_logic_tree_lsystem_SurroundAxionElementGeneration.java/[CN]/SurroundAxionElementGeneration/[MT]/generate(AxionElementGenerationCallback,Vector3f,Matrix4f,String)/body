{
  callback.setBlock(position,baseBlock);
  int rangeInt=(int)range;
  for (int x=-rangeInt; x <= rangeInt; x++) {
    for (int y=-rangeInt; y <= rangeInt; y++) {
      for (int z=-rangeInt; z <= rangeInt; z++) {
        double distance=Math.sqrt(x * x + y * y + z * z);
        if (distance < innerRange) {
          Vector3f v=new Vector3f(x,y,z);
          rotation.transform(v);
          Vector3f sideVec=new Vector3f(position);
          sideVec.add(v);
          callback.setBlock(sideVec,baseBlock);
        }
 else         if (distance < range) {
          Vector3f v=new Vector3f(x,y,z);
          rotation.transform(v);
          Vector3f sideVec=new Vector3f(position);
          sideVec.add(v);
          callback.setBlock(sideVec,surroundBlock);
        }
      }
    }
  }
  callback.advance(advance);
}
