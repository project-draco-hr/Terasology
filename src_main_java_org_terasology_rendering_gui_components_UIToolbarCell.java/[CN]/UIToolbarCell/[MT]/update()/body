{
  LocalPlayer localPlayer=CoreRegistry.get(LocalPlayer.class);
  _selectionRectangle.setVisible(_selected);
  setPosition(new Vector2f((getSize().x - 8f) * _id - 2f,2f));
  InventoryComponent inventory=localPlayer.getEntity().getComponent(InventoryComponent.class);
  if (inventory == null)   return;
  if (inventory.itemSlots.size() > _id) {
    LocalPlayerComponent localPlayerComp=localPlayer.getEntity().getComponent(LocalPlayerComponent.class);
    if (localPlayerComp != null) {
      setSelected(localPlayerComp.selectedTool == _id);
    }
    EntityRef itemStack=inventory.itemSlots.get(_id);
    ItemComponent item=itemStack.getComponent(ItemComponent.class);
    if (item == null || item.stackCount < 2) {
      getLabel().setVisible(false);
    }
 else {
      getLabel().setVisible(true);
      getLabel().setText(Integer.toString(item.stackCount));
    }
  }
}
