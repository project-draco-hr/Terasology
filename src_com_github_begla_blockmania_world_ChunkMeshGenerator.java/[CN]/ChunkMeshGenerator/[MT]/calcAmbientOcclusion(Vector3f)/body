{
  double visiblity=1.0;
  for (int i=0; i < _rayLut.length; i++) {
    Vector3f rayDir=_rayLut[i];
    rayDir.normalise();
    double rayVisiblity=1.0;
    int posX=(int)(vertexPosition.x + rayDir.x + 0.5f);
    int posY=(int)(vertexPosition.y + rayDir.y + 0.5f);
    int posZ=(int)(vertexPosition.z + rayDir.z + 0.5f);
    byte b=_chunk.getParent().getBlock(posX,posY,posZ);
    if (Block.getBlockForType(b).isCastingShadows()) {
      if (Block.getBlockForType(b).isBlockBillboard())       rayVisiblity*=0.86;
 else       rayVisiblity*=Configuration.OCCLUSION_INTENS;
    }
    visiblity+=rayVisiblity;
  }
  visiblity/=(float)_rayLut.length;
  return (float)visiblity;
}
