{
  try {
    if (!isArray())     return parseSingle(unescape(param,false).get(0));
 else {
      ArrayList<String> params=unescape(param,true);
      Object array=Array.newInstance(getType(),params.size());
      for (int i=0; i < Array.getLength(array); i++)       Array.set(array,i,parseSingle(params.get(i)));
      return array;
    }
  }
 catch (  CommandParameterParseException e) {
    String warning="Invalid parameter '" + e.getParameter() + "'";
    String message=e.getMessage();
    if (message != null)     warning+=": " + message;
    throw new InvalidCommandCallException(warning);
  }
catch (  Exception e) {
    InvalidCommandCallException newE=new InvalidCommandCallException("An unexpected error occurred while executing the command.",e);
    e.printStackTrace();
    throw newE;
  }
}
