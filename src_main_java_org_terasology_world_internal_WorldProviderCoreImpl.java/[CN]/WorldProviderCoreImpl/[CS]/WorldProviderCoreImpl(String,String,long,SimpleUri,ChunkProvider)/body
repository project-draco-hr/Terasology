{
  this.title=(title == null) ? seed : title;
  this.seed=seed;
  this.worldGenerator=worldGenerator;
  this.biomeProvider=new WorldBiomeProviderImpl(seed);
  this.chunkProvider=chunkProvider;
  this.fogNoise=new PerlinNoise(seed.hashCode() + 42 * 42);
  this.fogNoise.setOctaves(8);
  CoreRegistry.put(ChunkProvider.class,chunkProvider);
  this.worldTime=new WorldTimeImpl();
  worldTime.setMilliseconds(time);
  propagators.add(new BatchPropagator(new LightPropagationRules(),new LightWorldView(chunkProvider)));
  propagators.add(new BatchPropagator(new SunlightPropagationRules(),new SunlightWorldView(chunkProvider)));
}
