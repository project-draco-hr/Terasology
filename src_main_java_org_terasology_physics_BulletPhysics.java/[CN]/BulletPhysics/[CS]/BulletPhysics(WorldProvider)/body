{
  collisionGroupManager=CoreRegistry.get(CollisionGroupManager.class);
  _broadphase=new DbvtBroadphase();
  _broadphase.getOverlappingPairCache().setInternalGhostPairCallback(new GhostPairCallback());
  _defaultCollisionConfiguration=new DefaultCollisionConfiguration();
  _dispatcher=new CollisionDispatcher(_defaultCollisionConfiguration);
  _sequentialImpulseConstraintSolver=new SequentialImpulseConstraintSolver();
  _discreteDynamicsWorld=new DiscreteDynamicsWorld(_dispatcher,_broadphase,_sequentialImpulseConstraintSolver,_defaultCollisionConfiguration);
  _discreteDynamicsWorld.setGravity(new Vector3f(0f,-15f,0f));
  blockEntityRegistry=CoreRegistry.get(BlockEntityRegistry.class);
  CoreRegistry.get(EventSystem.class).registerEventReceiver(this,OnChangedBlock.class,BlockComponent.class);
  wrapper=new PhysicsWorldWrapper(world);
  VoxelWorldShape worldShape=new VoxelWorldShape(wrapper);
  Matrix3f rot=new Matrix3f();
  rot.setIdentity();
  DefaultMotionState blockMotionState=new DefaultMotionState(new Transform(new Matrix4f(rot,new Vector3f(0,0,0),1.0f)));
  RigidBodyConstructionInfo blockConsInf=new RigidBodyConstructionInfo(0,blockMotionState,worldShape,new Vector3f());
  RigidBody rigidBody=new RigidBody(blockConsInf);
  rigidBody.setCollisionFlags(CollisionFlags.STATIC_OBJECT | rigidBody.getCollisionFlags());
  _discreteDynamicsWorld.addRigidBody(rigidBody,combineGroups(StandardCollisionGroup.WORLD),(short)(CollisionFilterGroups.ALL_FILTER ^ CollisionFilterGroups.STATIC_FILTER));
}
