{
  Vector3i placementPos=new Vector3i(targetBlock);
  placementPos.add(surfaceDirection.getVector3i());
  Block block=type.getBlockFor(surfaceDirection,secondaryDirection);
  if (block == null)   return false;
  if (canPlaceBlock(block,targetBlock,placementPos)) {
    worldProvider.setBlock(placementPos.x,placementPos.y,placementPos.z,block.getId(),true,true);
    AudioManager.play("PlaceBlock",0.5f);
    if (blockItem.placedEntity.exists()) {
      blockItem.placedEntity.addComponent(new BlockComponent(placementPos,false));
      blockItem.placedEntity.addComponent(new HealthComponent(type.getArchetypeBlock().getHardness(),2.0f,1.0f));
      blockItem.placedEntity=EntityRef.NULL;
    }
    return true;
  }
  return false;
}
