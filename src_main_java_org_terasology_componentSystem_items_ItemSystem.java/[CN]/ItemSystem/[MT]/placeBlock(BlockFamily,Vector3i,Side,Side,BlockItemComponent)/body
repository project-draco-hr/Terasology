{
  if (type == null)   return true;
  Vector3i placementPos=new Vector3i(targetBlock);
  placementPos.add(surfaceDirection.getVector3i());
  Block block=type.getBlockFor(surfaceDirection,secondaryDirection);
  if (block == null)   return false;
  if (canPlaceBlock(block,targetBlock,placementPos)) {
    if (blockEntityRegistry.setBlock(placementPos,block,worldProvider.getBlock(placementPos),blockItem.placedEntity)) {
      AudioManager.play(new AssetUri(AssetType.SOUND,"engine:PlaceBlock"),0.5f);
      if (blockItem.placedEntity.exists()) {
        blockItem.placedEntity=EntityRef.NULL;
      }
      return true;
    }
  }
  return false;
}
