{
  InventoryManager inventoryManager=CoreRegistry.get(InventoryManager.class);
  Prefab prefab=CoreRegistry.get(PrefabManager.class).getPrefab(itemPrefabName);
  System.out.println("Found prefab: " + prefab);
  if (prefab != null && prefab.getComponent(ItemComponent.class) != null) {
    EntityRef item=CoreRegistry.get(EntityManager.class).create(prefab);
    EntityRef playerEntity=CoreRegistry.get(LocalPlayer.class).getCharacterEntity();
    if (!inventoryManager.giveItem(playerEntity,item)) {
      item.destroy();
    }
    MessageManager.getInstance().addMessage("You received an item of " + prefab.getName());
  }
 else {
    blockCommands.giveBlock(itemPrefabName);
  }
}
