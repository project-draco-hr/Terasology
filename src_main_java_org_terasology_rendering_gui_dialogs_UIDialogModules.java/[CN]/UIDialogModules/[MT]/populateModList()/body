{
  List<Module> modules=Lists.newArrayList(moduleManager.getModules());
  Collections.sort(modules,new Comparator<Module>(){
    @Override public int compare(    Module o1,    Module o2){
      return o1.getModuleInfo().getDisplayName().compareTo(o2.getModuleInfo().getDisplayName());
    }
  }
);
  for (  Module module : modules) {
    if (!module.getId().equals(TerasologyConstants.ENGINE_MODULE)) {
      UIListItem item=new UIListItem(module.getModuleInfo().getDisplayName(),module);
      item.setPadding(new Vector4f(2f,5f,2f,5f));
      if (moduleConfig.hasModule(module.getId())) {
        item.setTextColor(ACTIVE_TEXT_COLOR);
        item.setTextSelectionColor(ACTIVE_SELECTED_TEXT_COLOR);
      }
 else {
        item.setTextColor(INACTIVE_TEXT_COLOR);
        item.setTextSelectionColor(INACTIVE_SELECTED_TEXT_COLOR);
      }
      modList.addItem(item);
    }
  }
  modList.addSelectionListener(new SelectionListener(){
    @Override public void changed(    UIDisplayElement element){
      Module module=(Module)modList.getSelection().getValue();
      detailPanel.setVisible(true);
      nameLabel.setText(module.getModuleInfo().getDisplayName());
      descriptionLabel.setText(module.getModuleInfo().getDescription());
      boolean active=moduleConfig.hasModule(module.getId());
      if (active) {
        toggleButton.getLabel().setText(DEACTIVATE_TEXT);
      }
 else {
        toggleButton.getLabel().setText(ACTIVATE_TEXT);
      }
      toggleButton.setVisible(!module.getId().equals("core"));
    }
  }
);
  modList.addDoubleClickListener(new ClickListener(){
    @Override public void click(    UIDisplayElement element,    int button){
      toggleSelectedModuleActivation();
    }
  }
);
  toggleButton.addClickListener(new ClickListener(){
    @Override public void click(    UIDisplayElement element,    int button){
      toggleSelectedModuleActivation();
    }
  }
);
}
