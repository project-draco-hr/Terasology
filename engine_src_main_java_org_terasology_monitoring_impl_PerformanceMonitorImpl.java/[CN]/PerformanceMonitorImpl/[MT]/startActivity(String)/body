{
  if (Thread.currentThread() != mainThread) {
    return;
  }
  Activity newActivity=new Activity();
  newActivity.name=activity;
  newActivity.startTime=timer.getRawTimeInMs();
  newActivity.startMem=Runtime.getRuntime().freeMemory();
  if (!activityStack.isEmpty()) {
    Activity currentActivity=activityStack.peek();
    currentActivity.ownTime+=newActivity.startTime - ((currentActivity.resumeTime > 0) ? currentActivity.resumeTime : currentActivity.startTime);
    currentActivity.ownMem+=(currentActivity.startMem - newActivity.startMem > 0) ? currentActivity.startMem - newActivity.startMem : 0;
  }
  activityStack.push(newActivity);
}
