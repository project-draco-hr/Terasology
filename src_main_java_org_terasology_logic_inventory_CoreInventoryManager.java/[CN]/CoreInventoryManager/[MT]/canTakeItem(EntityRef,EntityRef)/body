{
  InventoryComponent inventory=inventoryEntity.getComponent(InventoryComponent.class);
  ItemComponent itemComponent=item.getComponent(ItemComponent.class);
  if (inventory != null && itemComponent != null) {
    for (    EntityRef entity : inventory.itemSlots) {
      ItemComponent otherItem=entity.getComponent(ItemComponent.class);
      if (otherItem == null) {
        return true;
      }
 else       if (!otherItem.stackId.isEmpty() && otherItem.stackId.equals(itemComponent.stackId) && getStackSize(entity,otherItem) < MAX_STACK) {
        return true;
      }
    }
  }
  return false;
}
