{
  predictedStackCounts.clear();
  predictedState.clear();
  for (  EntityRef item : predictedNewItems) {
    item.destroy();
  }
  predictedNewItems.clear();
  for (  MoveItemRequest request : pendingMoves) {
    InventoryComponent from=getPredictedInventoryComponent(request.getFromInventory());
    InventoryComponent to=getPredictedInventoryComponent(request.getToInventory());
    if (request instanceof MoveItemAmountRequest) {
      moveItemAmountCommon(request.getFromInventory(),from,request.getFromSlot(),request.getToInventory(),to,request.getToSlot(),((MoveItemAmountRequest)request).getAmount());
    }
 else {
      moveItemCommon(request.getFromInventory(),from,request.getFromSlot(),request.getToInventory(),to,request.getToSlot());
    }
  }
}
