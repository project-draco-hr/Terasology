{
  if (networkSystem.getMode().isAuthority()) {
    InventoryComponent from=fromInventory.getComponent(InventoryComponent.class);
    InventoryComponent to=toInventory.getComponent(InventoryComponent.class);
    if (from != null && to != null) {
      moveItemCommon(fromInventory,from,fromSlot,toInventory,to,toSlot);
    }
  }
 else {
    MoveItemRequest request=new MoveItemRequest(fromInventory,fromSlot,toInventory,toSlot,nextChangeId++);
    localPlayer.getClientEntity().send(request);
  }
}
