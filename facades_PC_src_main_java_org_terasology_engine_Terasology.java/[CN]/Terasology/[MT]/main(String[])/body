{
  handlePrintUsageRequest(args);
  handleLaunchArguments(args);
  try (final TerasologyEngine engine=new TerasologyEngine(createSubsystemList())){
    if (!saveGamesEnabled) {
      CoreRegistry.get(Config.class).getTransients().useSaveGames(saveGamesEnabled);
    }
    if (isHeadless) {
      engine.subscribeToStateChange(new HeadlessStateChangeListener());
      engine.run(new StateHeadlessSetup());
    }
 else {
      if (loadLastGame) {
        engine.submitTask("loadGame",new Runnable(){
          @Override public void run(){
            GameManifest gameManifest=getLatestGameManifest();
            if (gameManifest != null) {
              engine.changeState(new StateLoading(gameManifest,NetworkMode.NONE));
            }
          }
        }
);
      }
      engine.run(new StateMainMenu());
    }
  }
 catch (  RuntimeException e) {
    if (!GraphicsEnvironment.isHeadless()) {
      logException(e);
    }
  }
}
