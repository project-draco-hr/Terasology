{
  if (config.getRendering().isLightShafts()) {
    PerformanceMonitor.startActivity("Rendering light shafts");
    generateLightShafts();
    PerformanceMonitor.endActivity();
  }
  PerformanceMonitor.startActivity("Pre-post processing");
  generatePrePost();
  PerformanceMonitor.endActivity();
  if (config.getRendering().isEyeAdaptation()) {
    PerformanceMonitor.startActivity("Rendering eye adaption");
    generateDownsampledScene();
    PerformanceMonitor.endActivity();
  }
  PerformanceMonitor.startActivity("Updating exposure");
  updateExposure();
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Tone mapping");
  generateToneMappedScene();
  PerformanceMonitor.endActivity();
  if (config.getRendering().isBloom()) {
    PerformanceMonitor.startActivity("Applying bloom");
    generateHighPass();
    for (int i=0; i < 3; i++) {
      generateBloom(i);
    }
    PerformanceMonitor.endActivity();
  }
  PerformanceMonitor.startActivity("Applying blur");
  for (int i=0; i < 2; i++) {
    if (config.getRendering().getBlurIntensity() != 0) {
      generateBlur(i);
    }
  }
  PerformanceMonitor.endActivity();
  PerformanceMonitor.startActivity("Rendering final scene");
  if (stereoRenderState == StereoRenderState.OCULUS_LEFT_EYE || stereoRenderState == StereoRenderState.OCULUS_RIGHT_EYE || (stereoRenderState == StereoRenderState.MONO && takeScreenshot)) {
    renderFinalSceneToRT(stereoRenderState);
    if (takeScreenshot) {
      saveScreenshot();
    }
  }
  if (stereoRenderState == StereoRenderState.MONO || stereoRenderState == StereoRenderState.OCULUS_RIGHT_EYE) {
    renderFinalScene();
  }
  PerformanceMonitor.endActivity();
}
