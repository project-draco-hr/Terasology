{
  UIDropdown<Preset> videoQuality=find("graphicsPreset",UIDropdown.class);
  if (videoQuality != null) {
    videoQuality.setOptions(Lists.newArrayList(Preset.CUSTOM,Preset.MINIMAL,Preset.NICE,Preset.EPIC,Preset.INSANE,Preset.UBER));
    videoQuality.bindSelection(new PresetBinding(config.getRendering()));
  }
  UIDropdown<EnvironmentalEffects> environmentalEffects=find("environmentEffects",UIDropdown.class);
  if (environmentalEffects != null) {
    environmentalEffects.setOptions(Lists.newArrayList(EnvironmentalEffects.OFF,EnvironmentalEffects.LOW,EnvironmentalEffects.HIGH));
    environmentalEffects.bindSelection(new EnvironmentEffectsBinding(config.getRendering()));
  }
  UIDropdown<ViewDistance> viewDistance=find("viewDistance",UIDropdown.class);
  if (viewDistance != null) {
    viewDistance.setOptions(Arrays.asList(ViewDistance.values()));
    viewDistance.bindSelection(BindHelper.bindBeanProperty("viewDistance",config.getRendering(),ViewDistance.class));
  }
  UIDropdown<WaterReflection> waterReflection=find("reflections",UIDropdown.class);
  if (waterReflection != null) {
    waterReflection.setOptions(Lists.newArrayList(WaterReflection.SKY,WaterReflection.GLOBAL,WaterReflection.LOCAL));
    waterReflection.bindSelection(new WaterReflectionBinding(config.getRendering()));
  }
  UIDropdown<Integer> blur=find("blur",UIDropdown.class);
  if (blur != null) {
    blur.setOptions(Lists.newArrayList(0,1,2,3));
    blur.bindSelection(BindHelper.bindBeanProperty("blurIntensity",config.getRendering(),Integer.TYPE));
    blur.setOptionRenderer(new StringTextRenderer<Integer>(){
      @Override public String getString(      Integer value){
switch (value) {
case 1:
          return "Some";
case 2:
        return "Normal";
case 3:
      return "Max";
default :
    return "Off";
}
}
}
);
}
UIDropdown<DynamicShadows> dynamicShadows=find("shadows",UIDropdown.class);
if (dynamicShadows != null) {
dynamicShadows.setOptions(Arrays.asList(DynamicShadows.values()));
dynamicShadows.bindSelection(new DynamicShadowsBinding(config.getRendering()));
}
final UISlider fovSlider=find("fov",UISlider.class);
if (fovSlider != null) {
fovSlider.setIncrement(5.0f);
fovSlider.setPrecision(0);
fovSlider.setMinimum(70);
fovSlider.setRange(50);
fovSlider.bindValue(BindHelper.bindBeanProperty("fieldOfView",config.getRendering(),Float.TYPE));
}
final UISlider frameLimitSlider=find("frameLimit",UISlider.class);
if (frameLimitSlider != null) {
frameLimitSlider.setIncrement(5.0f);
frameLimitSlider.setPrecision(0);
frameLimitSlider.setMinimum(30);
frameLimitSlider.setRange(175);
frameLimitSlider.setLabelFunction(new Function<Float,String>(){
@Override public String apply(Float input){
if (input > 200) {
  return " Off ";
}
 else {
  return String.valueOf(input.intValue());
}
}
}
);
frameLimitSlider.bindValue(new Binding<Float>(){
@Override public Float get(){
if (config.getRendering().getFrameLimit() == -1) {
  return 205f;
}
 else {
  return (float)config.getRendering().getFrameLimit();
}
}
@Override public void set(Float value){
int frameLimit=value.intValue();
if (frameLimit > 200) {
  config.getRendering().setFrameLimit(-1);
}
 else {
  config.getRendering().setFrameLimit(frameLimit);
}
}
}
);
}
final UISlider fboScaleSlider=find("fboScale",UISlider.class);
if (fboScaleSlider != null) {
fboScaleSlider.setIncrement(5.0f);
fboScaleSlider.setPrecision(0);
fboScaleSlider.setMinimum(25);
fboScaleSlider.setRange(200);
fboScaleSlider.setLabelFunction(new Function<Float,String>(){
@Override public String apply(Float input){
return String.valueOf(input.intValue()) + "%";
}
}
);
fboScaleSlider.bindValue(new Binding<Float>(){
@Override public Float get(){
return (float)config.getRendering().getFboScale();
}
@Override public void set(Float value){
config.getRendering().setFboScale(value.intValue());
}
}
);
}
UIDropdown<CameraSetting> cameraSetting=find("camera",UIDropdown.class);
if (cameraSetting != null) {
cameraSetting.setOptions(Arrays.asList(CameraSetting.values()));
cameraSetting.bindSelection(new CameraSettingBinding(config.getRendering()));
}
WidgetUtil.tryBindCheckbox(this,"oculusVrSupport",BindHelper.bindBeanProperty("oculusVrSupport",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"cloudShadow",BindHelper.bindBeanProperty("cloudShadows",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"parallax",BindHelper.bindBeanProperty("parallaxMapping",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"filmGrain",BindHelper.bindBeanProperty("filmGrain",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"motionBlur",BindHelper.bindBeanProperty("motionBlur",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"bobbing",BindHelper.bindBeanProperty("cameraBobbing",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"outline",BindHelper.bindBeanProperty("outline",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"vsync",BindHelper.bindBeanProperty("vSync",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"eyeAdaptation",BindHelper.bindBeanProperty("eyeAdaptation",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"fullscreen",BindHelper.bindBeanProperty("fullscreen",engine,Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"ssao",BindHelper.bindBeanProperty("ssao",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"clampLighting",BindHelper.bindBeanProperty("clampLighting",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"bloom",BindHelper.bindBeanProperty("bloom",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"lightShafts",BindHelper.bindBeanProperty("lightShafts",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"vignette",BindHelper.bindBeanProperty("vignette",config.getRendering(),Boolean.TYPE));
WidgetUtil.tryBindCheckbox(this,"flickeringLight",BindHelper.bindBeanProperty("flickeringLight",config.getRendering(),Boolean.TYPE));
WidgetUtil.trySubscribe(this,"fovReset",new ActivateEventListener(){
@Override public void onActivated(UIWidget widget){
CameraSettingBinding cam;
fovSlider.setValue(100.0f);
}
}
);
WidgetUtil.trySubscribe(this,"close",new ActivateEventListener(){
@Override public void onActivated(UIWidget button){
getManager().popScreen();
}
}
);
}
