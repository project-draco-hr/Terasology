{
  Prefab result=prefabManager.getPrefab(prefabData.getName());
  if (result == null) {
    if (prefabData.hasParentName()) {
      loadPrefab(pendingPrefabs.get(prefabData.getParentName()),pendingPrefabs);
    }
    Module module=moduleManager.getActiveModule(new SimpleUri(prefabData.getName()).getNormalisedModuleName());
    try (ModuleContext.ContextSpan ignored=ModuleContext.setContext(module)){
      result=createPrefab(prefabData);
    }
 catch (    Exception e) {
      logger.error("Failed to load prefab {}",prefabData.getParentName(),e);
    }
  }
  return result;
}
