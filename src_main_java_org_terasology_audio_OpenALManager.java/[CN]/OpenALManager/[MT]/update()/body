{
  LocalPlayer player=CoreRegistry.get(LocalPlayer.class);
  if (player != null) {
    Vector3f velocity=player.getVelocity();
    Vector3f orientation=player.getViewDirection();
    AL10.alListener3f(AL10.AL_VELOCITY,velocity.x,velocity.y,velocity.z);
    OpenALException.checkState("Setting listener velocity");
    FloatBuffer listenerOri=BufferUtils.createFloatBuffer(6).put(new float[]{(float)orientation.x,(float)orientation.y,(float)orientation.z,0.0f,1.0f,0.0f});
    listenerOri.flip();
    AL10.alListener(AL10.AL_ORIENTATION,listenerOri);
    OpenALException.checkState("Setting listener orientation");
  }
  for (  SoundPool pool : _pools.values()) {
    pool.update();
  }
}
