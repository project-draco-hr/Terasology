{
  ContextMenuTree primaryTree=new ContextMenuTree();
  JsonTreeValue.Type type=node.getValue().getType();
  if (type == JsonTreeValue.Type.ARRAY || (type == JsonTreeValue.Type.OBJECT && !(node.getValue().getKey() != null && node.getValue().getKey().equals("elements")))) {
    ContextMenuTree addTree=createAddSkinContextMenu(node);
    primaryTree.addSubmenu(OPTION_ADD_EXTENDED,addTree);
  }
  if (type == JsonTreeValue.Type.OBJECT && node.getValue().getKey() != null && node.getValue().getKey().equals("elements")) {
    primaryTree.addOption(OPTION_ADD_WIDGET,externalConsumers.get(OPTION_ADD_WIDGET),node);
  }
  primaryTree.addOption(OPTION_COPY,externalConsumers.get(OPTION_COPY),node);
  primaryTree.addOption(OPTION_PASTE,externalConsumers.get(OPTION_PASTE),node);
  primaryTree.addOption(OPTION_EDIT,externalConsumers.get(OPTION_EDIT),node);
  return primaryTree;
}
