{
  long gameTimeInMs=time.getGameTimeInMs();
  if (lastCheckTime + CHECK_INTERVAL < gameTimeInMs) {
    Iterable<EntityRef> treeRefs=entityManager.getEntitiesWith(LivingTreeComponent.class,BlockComponent.class);
    for (    EntityRef treeRef : treeRefs) {
      LivingTreeComponent tree=treeRef.getComponent(LivingTreeComponent.class);
      if (tree != null) {
        TreeDefinition treeDefinition=treeDefinitions.get(tree.type);
        treeDefinition.updateTree(worldProvider,blockEntityRegistry,treeRef);
      }
 else {
        logger.error("Got an entity without a component (LivingTreeComponent) even though a list of entities that do have it was requested");
      }
    }
    lastCheckTime=gameTimeInMs;
  }
}
