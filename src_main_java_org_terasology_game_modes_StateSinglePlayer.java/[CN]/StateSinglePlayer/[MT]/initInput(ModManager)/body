{
  inputSystem=new InputSystem();
  CoreRegistry.put(InputSystem.class,inputSystem);
  componentSystemManager.register(inputSystem,"engine:InputSystem");
  registerButtonBinds("engine",modManager.getEngineReflections().getTypesAnnotatedWith(RegisterBindButton.class));
  registerAxisBinds("engine",modManager.getEngineReflections().getTypesAnnotatedWith(RegisterBindAxis.class));
  for (  Mod mod : modManager.getActiveMods()) {
    registerButtonBinds(mod.getModInfo().getId(),mod.getReflections().getTypesAnnotatedWith(RegisterBindButton.class));
    registerAxisBinds(mod.getModInfo().getId(),mod.getReflections().getTypesAnnotatedWith(RegisterBindAxis.class));
  }
  for (int i=0; i < 9; ++i) {
    String inventorySlotBind="engine:toolbarSlot" + i;
    inputSystem.registerBindButton(inventorySlotBind,"Inventory Slot " + (i + 1),new ToolbarSlotButton(i));
    inputSystem.linkBindButtonToKey(Keyboard.KEY_1 + i,inventorySlotBind);
  }
}
