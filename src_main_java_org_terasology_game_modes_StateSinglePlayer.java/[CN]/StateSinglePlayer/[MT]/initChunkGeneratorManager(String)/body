{
  ChunkGeneratorManager chunkGeneratorManager=null;
  File generatorDataFile=new File(PathManager.getInstance().getWorldSavePath(title),CHUNK_GENERATOR_FILE);
  try {
    chunkGeneratorManager=new ChunkGeneratorPersister().load(generatorDataFile);
  }
 catch (  Exception e) {
    logger.log(Level.SEVERE,"Failed to load generator data",e);
  }
  if (chunkGeneratorManager == null) {
switch (Config.getInstance().getChunkGenerator()) {
case 1:
      chunkGeneratorManager=new ChunkGeneratorManagerImpl();
    chunkGeneratorManager.registerChunkGenerator(new FlatTerrainGenerator());
  chunkGeneratorManager.registerChunkGenerator(new FloraGenerator());
chunkGeneratorManager.registerChunkGenerator(new LiquidsGenerator());
break;
default :
chunkGeneratorManager=ChunkGeneratorManagerImpl.getDefaultInstance();
}
try {
new ChunkGeneratorPersister().save(generatorDataFile,chunkGeneratorManager);
}
 catch (IOException e) {
logger.log(Level.SEVERE,"Failed to save generator data",e);
}
}
return chunkGeneratorManager;
}
