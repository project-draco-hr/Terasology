{
  EntityPersisterHelper persisterHelper=new EntityPersisterHelperImpl(entityManager);
  for (  AssetUri prefabURI : AssetManager.list(AssetType.PREFAB)) {
    logger.debug("Loading prefab " + prefabURI);
    try {
      InputStream stream=AssetManager.assetStream(prefabURI);
      if (stream != null) {
        BufferedReader reader=new BufferedReader(new InputStreamReader(stream));
        EntityData.Prefab prefabData=EntityDataJSONFormat.readPrefab(reader);
        stream.close();
        if (prefabData != null) {
          persisterHelper.deserializePrefab(prefabData,prefabURI);
        }
      }
 else {
        logger.warn("Failed to load prefab '{}'",prefabURI);
      }
    }
 catch (    IOException e) {
      logger.error("Failed to load prefab '{}'",prefabURI,e);
    }
  }
}
