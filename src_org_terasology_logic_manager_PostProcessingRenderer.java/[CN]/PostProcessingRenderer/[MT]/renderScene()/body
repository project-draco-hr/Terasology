{
  if (!_extensionsAvailable)   return;
  if (EFFECTS_ENABLED) {
    generateDownsampledScene();
    updateExposure();
    generateHighPass();
    for (int i=0; i < 2; i++) {
      generateBloom(i);
      generateBlur(i);
    }
    ShaderProgram shaderPost=ShaderManager.getInstance().getShaderProgram("post");
    shaderPost.enable();
    renderFullQuad();
  }
 else {
    PostProcessingRenderer.FBO scene=PostProcessingRenderer.getInstance().getFBO("scene");
    ShaderManager.getInstance().enableDefaultTextured();
    scene.bindTexture();
    renderFullQuad();
  }
  createOrUpdateFullscreenFbos();
}
