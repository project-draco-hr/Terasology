{
  List<Module> gameplayModules=Lists.newArrayList();
  for (  Name moduleId : moduleManager.getRegistry().getModuleIds()) {
    Module latestVersion=moduleManager.getRegistry().getLatestModuleVersion(moduleId);
    if (!latestVersion.isOnClasspath()) {
      Boolean isGameplay=latestVersion.getMetadata().getExtension(ModuleManager.IS_GAMEPLAY_EXT,Boolean.class);
      if (isGameplay != null && isGameplay) {
        gameplayModules.add(latestVersion);
      }
    }
  }
  Collections.sort(gameplayModules,new Comparator<Module>(){
    @Override public int compare(    Module o1,    Module o2){
      return o1.getMetadata().getDisplayName().value().compareTo(o2.getMetadata().getDisplayName().value());
    }
  }
);
  return gameplayModules;
}
