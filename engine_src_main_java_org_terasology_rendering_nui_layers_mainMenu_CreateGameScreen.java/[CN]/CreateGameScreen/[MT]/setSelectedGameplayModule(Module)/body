{
  ModuleConfig moduleConfig=config.getDefaultModSelection();
  moduleConfig.setDefaultGameplayModuleName(module.getId().toString());
  moduleConfig.clear();
  moduleConfig.addModule(module.getId());
  if (module != null) {
    SimpleUri defaultWorldGenerator=StandardModuleExtension.getDefaultWorldGenerator(module);
    if (defaultWorldGenerator != null) {
      for (      WorldGeneratorInfo worldGenInfo : worldGeneratorManager.getWorldGenerators()) {
        if (worldGenInfo.getUri().equals(defaultWorldGenerator)) {
          config.getWorldGeneration().setDefaultGenerator(worldGenInfo.getUri());
        }
      }
    }
  }
  config.save();
}
