{
  str=str.replaceAll("\\s+"," ");
  int commandEndIndex=str.indexOf(" ");
  String commandName;
  if (commandEndIndex >= 0) {
    commandName=str.substring(0,commandEndIndex);
  }
 else {
    commandName=str;
    str="";
    commandEndIndex=0;
  }
  str=str.substring(commandEndIndex).trim();
  String[] params=str.split(" (?=([^\"]*\"[^\"]*\")*[^\"]*$)");
  String paramsStr="";
  int paramsCount=0;
  for (  String s : params) {
    if (s.trim().isEmpty()) {
      continue;
    }
    if (!paramsStr.isEmpty()) {
      paramsStr+=",";
    }
    paramsStr+=s;
    paramsCount++;
  }
  if (paramsCount == 0) {
    paramsStr="()";
  }
  Command cmd=getCommand(commandName);
  if (cmd == null) {
    MessageManager.getInstance().addMessage("Unknown command '" + commandName + "'");
    return false;
  }
  if (paramsCount > cmd.getParameter().length) {
    MessageManager.getInstance().addMessage(cmd.getUseMessage());
    MessageManager.getInstance().addMessage("To many parameters for command '" + commandName + "'");
    return false;
  }
  String executeString=bindName + "." + cmd.getName()+ " "+ paramsStr;
  logger.log(Level.INFO,"Execute command '" + executeString + "'");
  try {
    cmd.methodExecute(executeString);
    return true;
  }
 catch (  Exception e) {
    MessageManager.getInstance().addMessage(cmd.getUseMessage());
    MessageManager.getInstance().addMessage("Error executing command '" + commandName + "'.");
    e.printStackTrace();
    return false;
  }
}
