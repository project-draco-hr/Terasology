{
  int column=0;
  float totalWidthUsed=0;
  normalizedWidths=new TFloatArrayList();
  int skippedColumns=0;
  while (column < relativeWidths.size() && column < contents.size() - 1) {
    if (relativeWidths.get(column) <= 0) {
      skippedColumns++;
    }
    normalizedWidths.add(relativeWidths.get(column));
    totalWidthUsed+=relativeWidths.get(column);
    column++;
  }
  if (totalWidthUsed >= 1.0f) {
    logger.warn("Attempted to set column widths to a value exceeding 1.0f, ignoring");
    column=0;
    totalWidthUsed=0;
    skippedColumns=0;
    normalizedWidths.clear();
  }
  float widthForRemaining=(1.0f - totalWidthUsed) / (contents.size() - column + skippedColumns);
  for (int i=0; i < column; ++i) {
    if (normalizedWidths.get(i) <= 0) {
      normalizedWidths.set(i,widthForRemaining);
    }
  }
  while (column < contents.size()) {
    normalizedWidths.add(widthForRemaining);
    column++;
  }
}
