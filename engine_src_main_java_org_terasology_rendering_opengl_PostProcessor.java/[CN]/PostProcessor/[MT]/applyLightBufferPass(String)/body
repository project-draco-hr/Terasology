{
  Material program=Assets.getMaterial("engine:prog.lightBufferPass");
  program.enable();
  FBO targetFbo=renderingProcess.getFBO(target);
  int texId=0;
  if (targetFbo != null) {
    GL13.glActiveTexture(GL13.GL_TEXTURE0 + texId);
    targetFbo.bindTexture();
    program.setInt("texSceneOpaque",texId++);
    GL13.glActiveTexture(GL13.GL_TEXTURE0 + texId);
    targetFbo.bindDepthTexture();
    program.setInt("texSceneOpaqueDepth",texId++);
    GL13.glActiveTexture(GL13.GL_TEXTURE0 + texId);
    targetFbo.bindNormalsTexture();
    program.setInt("texSceneOpaqueNormals",texId++);
    GL13.glActiveTexture(GL13.GL_TEXTURE0 + texId);
    targetFbo.bindLightBufferTexture();
    program.setInt("texSceneOpaqueLightBuffer",texId++,true);
  }
  FBO targetPingPong=renderingProcess.getFBO(target + "PingPong");
  targetPingPong.bind();
  graphicState.setRenderBufferMask(targetPingPong,true,true,true);
  glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
  renderFullscreenQuad();
  renderingProcess.unbindFbo(target + "PingPong");
  renderingProcess.flipPingPongFbo(target);
  if (target.equals("sceneOpaque")) {
    attachDepthBufferToFbo("sceneOpaque","sceneReflectiveRefractive");
  }
}
