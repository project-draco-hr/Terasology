{
  DefaultRenderingProcess.getInstance().beginRenderLightGeometryStencilPass();
  Material program=Assets.getMaterial("engine:prog.simple");
  program.enable();
  program.setCamera(playerCamera);
  EntityManager entityManager=CoreRegistry.get(EntityManager.class);
  for (  EntityRef entity : entityManager.getEntitiesWith(LightComponent.class,LocationComponent.class)) {
    LocationComponent locationComponent=entity.getComponent(LocationComponent.class);
    LightComponent lightComponent=entity.getComponent(LightComponent.class);
    final Vector3f worldPosition=locationComponent.getWorldPosition();
    renderLightComponent(lightComponent,worldPosition,program,true);
  }
  DefaultRenderingProcess.getInstance().endRenderLightGeometryStencilPass();
}
