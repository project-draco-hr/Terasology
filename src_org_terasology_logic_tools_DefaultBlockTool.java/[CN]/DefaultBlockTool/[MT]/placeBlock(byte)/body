{
  IWorldProvider worldProvider=_player.getParent().getWorldProvider();
  RayBlockIntersection.Intersection selectedBlock=_player.getSelectedBlock();
  if (selectedBlock != null) {
    Block centerBlock=BlockManager.getInstance().getBlock(worldProvider.getBlock(_player.getSelectedBlock().getBlockPosition().x,_player.getSelectedBlock().getBlockPosition().y,_player.getSelectedBlock().getBlockPosition().z));
    if (!centerBlock.isAllowBlockAttachment()) {
      return false;
    }
    BlockPosition blockPos=selectedBlock.calcAdjacentBlockPos();
    if (Block.AABBForBlockAt(blockPos.x,blockPos.y,blockPos.z).overlaps(_player.getAABB())) {
      return false;
    }
    placeBlock(blockPos,type,true);
    return true;
  }
  return false;
}
