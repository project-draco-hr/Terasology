{
  EntityBuilder builder=entityManager.newBuilder("engine:player");
  builder.getComponent(LocationComponent.class).setWorldPosition(spawnPosition);
  builder.setOwner(controller);
  EntityRef transferSlot=entityManager.create("engine:transferSlot");
  CharacterComponent playerComponent=builder.getComponent(CharacterComponent.class);
  playerComponent.spawnPosition.set(spawnPosition);
  playerComponent.movingItem=transferSlot;
  playerComponent.controller=controller;
  EntityRef player=builder.build();
  player.send(new SelectedItemChangedEvent(EntityRef.NULL,inventoryManager.getItemInSlot(player,0)));
  return player;
}
