{
  for (  NetworkNode modifiedLeafNode : leafNodes) {
    if (((SignalNetworkNode)modifiedLeafNode).getType() == SignalNetworkNode.Type.PRODUCER) {
      logger.debug("Producer removed from network");
      networksToRecalculate.add(network);
      producerNetworks.remove(modifiedLeafNode,network);
      producersInNetwork.remove(network,modifiedLeafNode);
    }
 else {
      logger.debug("Consumer removed from network");
      consumersToRecalculate.add(modifiedLeafNode);
      consumerNetworks.remove(modifiedLeafNode,network);
      consumersInNetwork.remove(network,modifiedLeafNode);
      consumerSignalInNetworks.get(modifiedLeafNode).remove(network);
    }
  }
}
