{
  for (  NetworkNode modifiedLeafNode : leafNodes) {
    if (signalProducers.containsValue(modifiedLeafNode)) {
      logger.debug("Producer added to network");
      networksToRecalculate.add(network);
      producerNetworks.put(modifiedLeafNode,network);
      producersInNetwork.put(network,modifiedLeafNode);
    }
 else {
      logger.debug("Consumer added to network");
      consumersToRecalculate.add(modifiedLeafNode);
      consumerNetworks.put(modifiedLeafNode,network);
      consumersInNetwork.put(network,modifiedLeafNode);
    }
  }
}
