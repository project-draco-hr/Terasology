{
  for (  Map.Entry<Vector3i,Byte> modifiedLeafNode : leafNodes.entries()) {
    Vector3i nodeLocation=modifiedLeafNode.getKey();
    Byte producerConnectingSides=signalProducers.get(nodeLocation);
    if (producerConnectingSides != null && producerConnectingSides.byteValue() == modifiedLeafNode.getValue()) {
      logger.info("Producer removed from network");
      networksToRecalculate.add(network);
      producerNetworks.remove(nodeLocation,network);
      producersInNetwork.remove(network,nodeLocation);
    }
 else {
      logger.info("Consumer removed from network");
      consumersToRecalculate.add(nodeLocation);
      consumerNetworks.remove(nodeLocation,network);
      consumersInNetwork.remove(network,nodeLocation);
      consumerSignalInNetworks.get(nodeLocation).remove(network);
    }
  }
}
