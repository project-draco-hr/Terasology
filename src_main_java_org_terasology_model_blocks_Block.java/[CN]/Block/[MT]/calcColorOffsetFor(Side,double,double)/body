{
  Vector4f color=new Vector4f(1.0f,1.0f,1.0f,1.0f);
  if (getColorSource() == COLOR_SOURCE.COLOR_LUT)   color.set(calcColorForTemperatureAndHumidity(temperature,humidity));
 else   if (getColorSource() == COLOR_SOURCE.FOLIAGE_LUT) {
    color.set(calcFoliageColorForTemperatureAndHumidity(temperature,humidity));
  }
  Vector4f colorOffset=_colorOffset.get(side);
  color.x*=colorOffset.x;
  color.y*=colorOffset.y;
  color.z*=colorOffset.z;
  color.w*=colorOffset.w;
  return color;
}
