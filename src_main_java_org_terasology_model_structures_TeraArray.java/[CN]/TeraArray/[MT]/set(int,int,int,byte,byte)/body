{
  int pos=(x * _lX * _lY) + (y * _lX) + z;
  if (x >= _lX || y >= _lY || z >= _lZ || x < 0 || y < 0 || z < 0)   return false;
  byte old=_array[pos];
  if (old == expected) {
    _array[pos]=b;
    return true;
  }
  return false;
}
