{
  int pos=pos(x,y,z);
  int old=data[pos];
  if (old == expected) {
    data[pos]=(short)value;
    return true;
  }
  return false;
}
