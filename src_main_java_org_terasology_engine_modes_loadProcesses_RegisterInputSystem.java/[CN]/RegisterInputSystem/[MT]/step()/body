{
  ComponentSystemManager componentSystemManager=CoreRegistry.get(ComponentSystemManager.class);
  ModuleManager moduleManager=CoreRegistry.get(ModuleManager.class);
  LocalPlayerSystem localPlayerSystem=new LocalPlayerSystem();
  componentSystemManager.register(localPlayerSystem,"engine:localPlayerSystem");
  CoreRegistry.put(LocalPlayerSystem.class,localPlayerSystem);
  CameraTargetSystem cameraTargetSystem=new CameraTargetSystem();
  CoreRegistry.put(CameraTargetSystem.class,cameraTargetSystem);
  componentSystemManager.register(cameraTargetSystem,"engine:CameraTargetSystem");
  InputSystem inputSystem=new InputSystem();
  BindsConfig bindsConfig=CoreRegistry.get(Config.class).getInput().getBinds();
  CoreRegistry.put(InputSystem.class,inputSystem);
  componentSystemManager.register(inputSystem,"engine:InputSystem");
  registerButtonBinds(inputSystem,ModuleManager.ENGINE_PACKAGE,moduleManager.getEngineReflections().getTypesAnnotatedWith(RegisterBindButton.class),bindsConfig);
  registerAxisBinds(inputSystem,ModuleManager.ENGINE_PACKAGE,moduleManager.getEngineReflections().getTypesAnnotatedWith(RegisterBindAxis.class));
  for (  Module module : moduleManager.getActiveMods()) {
    if (module.isCodeMod()) {
      registerButtonBinds(inputSystem,module.getModuleInfo().getId(),module.getReflections().getTypesAnnotatedWith(RegisterBindButton.class),bindsConfig);
      registerAxisBinds(inputSystem,module.getModuleInfo().getId(),module.getReflections().getTypesAnnotatedWith(RegisterBindAxis.class));
    }
  }
  registerToolbarShortcuts(inputSystem,bindsConfig);
  return true;
}
