{
  super.update();
  float healthRatio=0;
  HealthComponent healthComp=CoreRegistry.get(LocalPlayer.class).getEntity().getComponent(HealthComponent.class);
  if (healthComp != null) {
    healthRatio=(float)healthComp.currentHealth / healthComp.maxHealth;
  }
  for (int i=0; i < 10; i++) {
    if (i < healthRatio * 10f)     _hearts[i].setVisible(true);
 else     _hearts[i].setVisible(false);
    PoisonedComponent poisoned=CoreRegistry.get(LocalPlayer.class).getEntity().getComponent(PoisonedComponent.class);
    entityManager=CoreRegistry.get(EntityManager.class);
    for (    EntityRef entity : entityManager.iteratorEntities(PoisonedComponent.class)) {
      if (poisoned.poisonDuration >= 1) {
        _hearts[i].getTextureOrigin().set(new Vector2f(106f / 256f,0.0f));
        addDisplayElement(_hearts[i]);
      }
 else       _hearts[i].getTextureOrigin().set(new Vector2f(52f / 256f,0.0f));
    }
  }
}
