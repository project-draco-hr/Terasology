{
  _contentHeight=0.0f;
  _contentWidth=0.0f;
  float maxElementPosV=0.0f;
  float maxElementPosH=0.0f;
  float checkVerticalConfusion=0.0f;
  float checkHorizontalConfusion=0.0f;
  for (  UIDisplayElement displayElement : getDisplayElements()) {
    if (displayElement.canMove()) {
      if (maxElementPosV < displayElement.getPosition().y) {
        maxElementPosV=displayElement.getPosition().y;
        _contentHeight=displayElement.getPosition().y + displayElement.getSize().y + _verticalShift;
      }
      if (maxElementPosH < displayElement.getPosition().x) {
        maxElementPosH=displayElement.getPosition().x;
        _contentWidth=displayElement.getPosition().x + displayElement.getSize().x + _horizontalShift;
      }
      if (displayElement.getPosition().y < checkVerticalConfusion) {
        checkVerticalConfusion=displayElement.getPosition().y;
      }
      if (displayElement.getPosition().x < checkHorizontalConfusion) {
        checkHorizontalConfusion=displayElement.getPosition().x;
      }
    }
  }
  if (_contentHeight <= getSize().y && _scrollBarV.isVisible()) {
    _scrollBarV.setVisible(false);
  }
 else   if (_contentHeight > getSize().y && !_scrollBarV.isVisible()) {
    _scrollBarV.setPosition(_containerPosV);
    _scrollBarV.setVisible(true);
  }
  if (_contentWidth <= getSize().x && _scrollBarH.isVisible()) {
    _scrollBarH.setVisible(true);
  }
 else   if (_contentWidth > getSize().x && !_scrollBarH.isVisible()) {
    _scrollBarH.setPosition(_containerPosH);
    _scrollBarH.setVisible(true);
  }
  if (checkVerticalConfusion < 0.0f) {
    for (    UIDisplayElement displayElement : getDisplayElements()) {
      if (displayElement.canMove()) {
        displayElement.getPosition().y+=(-1) * checkVerticalConfusion;
      }
    }
  }
  if (checkHorizontalConfusion < 0.0f) {
    for (    UIDisplayElement displayElement : getDisplayElements()) {
      if (displayElement.canMove()) {
        displayElement.getPosition().x+=(-1) * checkHorizontalConfusion;
      }
    }
  }
  _scrollBarV.setStep(_contentHeight,getSize().y);
  _scrollBarH.setStep(_contentWidth,getSize().x);
}
