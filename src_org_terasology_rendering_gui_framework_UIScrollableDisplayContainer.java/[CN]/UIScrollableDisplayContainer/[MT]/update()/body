{
  if (!_scrollBar.isScrolled()) {
    _contentHeight=0.0f;
    float checkConfusion=0.0f;
    for (    UIDisplayElement displayElement : getDisplayElements()) {
      if (displayElement.canMove()) {
        _contentHeight+=displayElement.getSize().y;
        if (!_scrollBar.isVisible() && displayElement.getPosition().y < checkConfusion) {
          checkConfusion=displayElement.getPosition().y;
        }
      }
    }
    if (_contentHeight <= getSize().y && _scrollBar.isVisible()) {
      _scrollBar.setVisible(false);
    }
 else     if (_contentHeight > getSize().y && !_scrollBar.isVisible()) {
      _scrollBar.setPosition(_containerPos);
      _scrollBar.setVisible(true);
    }
    if (checkConfusion < 0.0f) {
      for (      UIDisplayElement displayElement : getDisplayElements()) {
        if (displayElement.canMove()) {
          displayElement.getPosition().y+=(-1) * checkConfusion;
        }
      }
    }
    _scrollBar.setStep(_contentHeight,getSize().y);
  }
  super.update();
}
