{
  if (location.parent != null) {
    LocationComponent parent=location.parent.getComponent(LocationComponent.class);
    if (parent != null) {
      worldToLocalPosInternal(parent,result);
    }
  }
  result.sub(location.position);
  Quat4f inverse=new Quat4f(location.rotation);
  inverse.inverse();
  QuaternionUtil.quatRotate(inverse,result,result);
  result.scale(1.f / location.scale);
  return result;
}
