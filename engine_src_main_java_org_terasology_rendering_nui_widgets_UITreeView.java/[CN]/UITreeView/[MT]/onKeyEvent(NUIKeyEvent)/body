{
  for (  TreeKeyEventListener listener : keyEventListeners) {
    listener.onKeyEvent(event);
  }
  if (event.isDown()) {
    int id=event.getKey().getId();
    KeyboardDevice keyboard=event.getKeyboard();
    boolean ctrlDown=keyboard.isKeyDown(Keyboard.KeyId.RIGHT_CTRL) || keyboard.isKeyDown(Keyboard.KeyId.LEFT_CTRL);
    if (id == Keyboard.KeyId.UP || id == Keyboard.KeyId.DOWN) {
      moveSelected(id);
      return true;
    }
 else     if (id == Keyboard.KeyId.DELETE) {
      removeSelected();
      return true;
    }
 else     if ((ctrlDown && id == Keyboard.KeyId.A) || id == Keyboard.KeyId.INSERT) {
      addToSelected();
      return true;
    }
 else     if (ctrlDown && id == Keyboard.KeyId.C) {
      copy(model.get().getNode(state.getSelectedIndex()));
      return true;
    }
 else     if (ctrlDown && id == Keyboard.KeyId.V) {
      paste(model.get().getNode(state.getSelectedIndex()));
      return true;
    }
 else {
      return false;
    }
  }
  return false;
}
