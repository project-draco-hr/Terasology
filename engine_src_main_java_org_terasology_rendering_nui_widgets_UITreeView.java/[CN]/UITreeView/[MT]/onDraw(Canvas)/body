{
  canvas.setPart(TREE);
  int yOffset=0;
  for (int i=0; i < model.get().getElementCount(); i++) {
    Tree<T> item=model.get().getElement(i);
    TreeModel.TreeInteractionListener listener=model.get().getListener(i);
    if (listener.isMouseOver()) {
      canvas.setMode(HOVER_MODE);
    }
 else {
      canvas.setMode(DEFAULT_MODE);
    }
    Vector2i preferredSize=canvas.getCurrentStyle().getMargin().grow(itemRenderer.getPreferredSize(item.getValue(),canvas));
    Rect2i itemRegion=Rect2i.createFromMinAndSize(indentation.get() * item.getDepth(),yOffset,canvas.size().x,preferredSize.y);
    canvas.drawBackground(itemRegion);
    itemRenderer.draw(item.getValue(),canvas,canvas.getCurrentStyle().getMargin().shrink(itemRegion));
    canvas.addInteractionRegion(listener,itemRenderer.getTooltip(item.getValue()),itemRegion);
    yOffset+=preferredSize.getY();
  }
}
