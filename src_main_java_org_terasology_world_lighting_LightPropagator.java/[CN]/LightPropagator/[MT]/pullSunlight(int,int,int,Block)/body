{
  byte light=0;
  if (y == Chunk.SIZE_Y - 1 && LightingUtil.canSpreadLightInto(type,Side.TOP)) {
    light=Chunk.MAX_LIGHT;
  }
 else {
    for (    Side side : Side.values()) {
      if (LightingUtil.canSpreadLightInto(type,side)) {
        byte adjLight=chunkView.getSunlight(x + side.getVector3i().x,y + side.getVector3i().y,z + side.getVector3i().z);
        if (side != Side.TOP) {
          adjLight-=1;
        }
        Block otherType=chunkView.getBlock(x + side.getVector3i().x,y + side.getVector3i().y,z + side.getVector3i().z);
        if (adjLight > light && LightingUtil.canSpreadLightOutOf(otherType,side.reverse())) {
          light=adjLight;
        }
      }
    }
  }
  return light;
}
