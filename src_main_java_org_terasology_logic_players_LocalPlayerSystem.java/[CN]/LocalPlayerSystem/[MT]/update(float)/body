{
  if (!localPlayer.isValid()) {
    return;
  }
  EntityRef entity=localPlayer.getCharacterEntity();
  CharacterMovementComponent characterMovementComponent=entity.getComponent(CharacterMovementComponent.class);
  CharacterComponent characterComp=entity.getComponent(CharacterComponent.class);
  LocationComponent location=entity.getComponent(LocationComponent.class);
  processInput(entity,characterComp,characterMovementComponent);
  updateCamera(characterComp,characterMovementComponent,characterComp,location);
  characterComp.handAnimation=Math.max(0,characterComp.handAnimation - 2.5f * delta);
  entity.saveComponent(characterComp);
}
