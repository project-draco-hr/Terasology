{
  if (text.get() == null) {
    text.set("");
  }
  lastFont=canvas.getCurrentStyle().getFont();
  lastWidth=canvas.size().x;
  canvas.addInteractionRegion(interactionListener,canvas.getRegion());
  correctCursor();
  try (SubRegion ignored=canvas.subRegion(canvas.getRegion(),true);SubRegion ignored2=canvas.subRegion(Rect2i.createFromMinAndSize(-offset,0,lastFont.getWidth(getText()) + 1,lastFont.getLineHeight()),false)){
    canvas.drawText(text.get(),canvas.getRegion());
    if (isFocused()) {
      if (hasSelection()) {
        drawSelection(canvas);
      }
 else {
        drawCursor(canvas);
      }
    }
  }
 }
