{
  StringBuilder builder=new StringBuilder().append(PreProcessorPreamble);
  if (Config.getInstance().isAnimatedGrass())   builder.append("#define ANIMATED_WATER_AND_GRASS \n");
  if (Config.getInstance().isComplexWater())   builder.append("#define COMPLEX_WATER \n");
  if (Config.getInstance().isFlickeringLight())   builder.append("#define FLICKERING_LIGHT \n");
  builder.append("#define GAMMA ");
  builder.append(((Double)Config.getInstance().getGamma()).toString());
  builder.append('\n');
  return builder;
}
