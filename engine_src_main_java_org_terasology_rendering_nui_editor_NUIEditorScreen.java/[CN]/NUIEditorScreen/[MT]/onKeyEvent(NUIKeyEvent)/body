{
  if (event.isDown()) {
    int id=event.getKey().getId();
    KeyboardDevice keyboard=event.getKeyboard();
    boolean ctrlDown=keyboard.isKeyDown(Keyboard.KeyId.RIGHT_CTRL) || keyboard.isKeyDown(Keyboard.KeyId.LEFT_CTRL);
    if (id == Keyboard.KeyId.ESCAPE) {
      getAnimationSystem().stop();
      nuiEditorSystem.toggleEditor();
      return true;
    }
 else     if (ctrlDown && id == Keyboard.KeyId.Z) {
      if (editorHistoryPosition > 0) {
        editorHistoryPosition--;
        JsonTree tree=editorHistory.get(editorHistoryPosition);
        updateTree(tree);
        updateWidget(tree);
      }
      return true;
    }
 else     if (ctrlDown && id == Keyboard.KeyId.Y) {
      if (editorHistoryPosition < editorHistory.size() - 1) {
        editorHistoryPosition++;
        JsonTree tree=editorHistory.get(editorHistoryPosition);
        updateTree(tree);
        updateWidget(tree);
      }
      return true;
    }
 else {
      return false;
    }
  }
  return false;
}
