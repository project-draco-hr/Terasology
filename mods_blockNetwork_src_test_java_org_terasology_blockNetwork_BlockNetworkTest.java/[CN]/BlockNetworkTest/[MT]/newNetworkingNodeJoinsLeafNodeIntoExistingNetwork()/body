{
  blockNetwork.addNetworkingBlock(new Vector3i(0,0,1),allDirections);
  blockNetwork.addLeafBlock(new Vector3i(1,0,0),allDirections);
  assertEquals(1,blockNetwork.getNetworks().size());
  Network network=blockNetwork.getNetworks().iterator().next();
  assertFalse(network.hasLeafNode(toNode(new Vector3i(1,0,0),allDirections)));
  assertTrue(network.hasNetworkingNode(toNode(new Vector3i(0,0,1),allDirections)));
  assertEquals(1,listener.networksAdded);
  blockNetwork.addNetworkingBlock(new Vector3i(0,0,0),allDirections);
  assertEquals(1,blockNetwork.getNetworks().size());
  assertTrue(network.hasNetworkingNode(toNode(new Vector3i(0,0,0),allDirections)));
  assertTrue(network.hasNetworkingNode(toNode(new Vector3i(0,0,1),allDirections)));
  assertTrue(network.hasLeafNode(toNode(new Vector3i(1,0,0),allDirections)));
  assertEquals(1,listener.networksAdded);
  assertEquals(2,listener.networkingNodesAdded);
  assertEquals(1,listener.leafNodesAdded);
}
