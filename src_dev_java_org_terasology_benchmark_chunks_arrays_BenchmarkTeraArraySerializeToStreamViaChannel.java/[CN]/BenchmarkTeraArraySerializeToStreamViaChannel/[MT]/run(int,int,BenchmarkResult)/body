{
  try {
    int bogus=0;
    for (int i=0; i < repetitions; i++) {
      handler.serialize(array,buffer);
      bogus+=buffer.position();
      buffer.rewind();
      channel.write(buffer);
      buffer.rewind();
      out.reset();
    }
    return bogus;
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
