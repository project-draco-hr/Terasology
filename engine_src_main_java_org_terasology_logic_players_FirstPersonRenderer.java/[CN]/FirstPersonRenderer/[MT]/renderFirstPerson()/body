{
  CharacterHeldItemComponent characterHeldItemComponent=localPlayer.getCharacterEntity().getComponent(CharacterHeldItemComponent.class);
  if (characterHeldItemComponent == null) {
    return;
  }
  CharacterMovementComponent charMoveComp=localPlayer.getCharacterEntity().getComponent(CharacterMovementComponent.class);
  if (charMoveComp == null) {
    return;
  }
  float bobOffset=calcBobbingOffset(charMoveComp.footstepDelta,(float)java.lang.Math.PI / 8f,0.05f);
  float handMovementAnimationOffset=characterHeldItemComponent.handAnimation;
  EntityRef heldItem=characterHeldItemComponent.selectedItem;
  ItemComponent heldItemComp=heldItem.getComponent(ItemComponent.class);
  BlockItemComponent blockItem=heldItem.getComponent(BlockItemComponent.class);
  if (blockItem != null && blockItem.blockFamily != null) {
    renderBlock(blockItem.blockFamily,bobOffset,handMovementAnimationOffset);
  }
 else   if (heldItemComp != null && heldItemComp.renderWithIcon) {
    renderIcon(heldItemComp.icon,bobOffset,handMovementAnimationOffset);
  }
 else {
    renderHand(bobOffset,handMovementAnimationOffset);
  }
}
