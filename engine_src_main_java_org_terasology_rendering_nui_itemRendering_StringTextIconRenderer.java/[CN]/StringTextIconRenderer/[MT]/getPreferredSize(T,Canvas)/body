{
  Font font=canvas.getCurrentStyle().getFont();
  String text=getString(value);
  List<String> lines=TextLineBuilder.getLines(font,text,canvas.size().x);
  Texture texture=getTexture(value);
  if (texture == null) {
    return font.getSize(lines);
  }
 else {
    int iconWidth=marginLeft + texture.getWidth() + marginRight;
    if (wrap) {
      return font.getSize(lines).addX(iconWidth);
    }
 else {
      return new Vector2i(font.getWidth(text),font.getLineHeight()).addX(iconWidth);
    }
  }
}
