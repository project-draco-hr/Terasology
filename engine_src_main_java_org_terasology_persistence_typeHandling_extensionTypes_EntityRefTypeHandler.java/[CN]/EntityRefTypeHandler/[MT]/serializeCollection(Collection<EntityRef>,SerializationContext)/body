{
  TIntList items=new TIntArrayList();
  for (  EntityRef ref : value) {
    if (!ref.exists()) {
      items.add(0);
    }
 else {
      if (refInterceptor.get() == null || refInterceptor.get().savingRef(ref)) {
        items.add((ref).getId());
      }
 else {
        items.add(0);
      }
    }
  }
  return context.create(items.iterator());
}
