{
  logger.log(Level.INFO,"Loading Blocks...");
  for (  AssetUri blockDefUri : AssetManager.list(AssetType.BLOCK_DEFINITION)) {
    try {
      JsonElement rawJson=readJson(blockDefUri);
      if (rawJson != null) {
        JsonObject blockDefJson=rawJson.getAsJsonObject();
        if (blockDefJson.has("template") && blockDefJson.get("template").getAsBoolean()) {
          continue;
        }
        logger.log(Level.INFO,"Loading " + blockDefUri);
        inheritData(blockDefUri,blockDefJson);
        BlockDefinition blockDef=loadBlockDefinition(blockDefJson);
        if (blockDef.liquid) {
          blockDef.rotation=BlockDefinition.RotationType.NONE;
        }
switch (blockDef.rotation) {
case ALIGNTOSURFACE:
          processAlignToSurfaceFamily(blockDefUri,blockDefJson);
        break;
case HORIZONTAL:
      processHorizontalBlockFamily(blockDefUri,blockDef);
    break;
default :
  processSingleBlockFamily(blockDefUri,blockDef);
break;
}
}
}
 catch (JsonParseException e) {
logger.log(Level.SEVERE,"Failed to load block '" + blockDefUri + "'",e);
}
catch (NullPointerException e) {
logger.log(Level.SEVERE,"Failed to load block '" + blockDefUri + "'",e);
}
}
}
