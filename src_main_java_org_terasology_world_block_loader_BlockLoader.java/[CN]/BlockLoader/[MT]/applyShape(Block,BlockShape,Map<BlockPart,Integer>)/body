{
  for (  BlockPart part : BlockPart.values()) {
    if (shape.getMeshPart(part) != null) {
      Vector2f atlasPos=calcAtlasPositionForId(tileIndices.get(part));
      block.setMeshPart(part,shape.getMeshPart(part).rotate(Rotation.NONE.getQuat4f()).mapTexCoords(atlasPos,Block.TEXTURE_OFFSET_WIDTH));
      block.setTextureAtlasPos(part,atlasPos);
      if (part.isSide()) {
        block.setFullSide(part.getSide(),shape.isBlockingSide(part.getSide()));
      }
    }
  }
  block.setCollision(shape.getCollisionOffset(),shape.getCollisionShape());
}
