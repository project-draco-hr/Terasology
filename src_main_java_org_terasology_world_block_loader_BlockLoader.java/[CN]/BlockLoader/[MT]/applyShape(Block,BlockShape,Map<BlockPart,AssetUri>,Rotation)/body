{
  for (  BlockPart part : BlockPart.values()) {
    Vector2f atlasPos=atlasBuilder.getTexCoords(tileUris.get(part),shape.getMeshPart(part) != null);
    BlockPart targetPart;
    if (part.getSide() != null) {
      targetPart=BlockPart.fromSide(rot.rotate(part.getSide()));
    }
 else {
      targetPart=part;
    }
    block.setTextureAtlasPos(targetPart,atlasPos);
    if (shape.getMeshPart(part) != null) {
      block.setMeshPart(targetPart,shape.getMeshPart(part).rotate(rot.getQuat4f()).mapTexCoords(atlasPos,Block.TEXTURE_OFFSET_WIDTH));
      if (part.isSide()) {
        block.setFullSide(targetPart.getSide(),shape.isBlockingSide(part.getSide()));
      }
    }
  }
  block.setCollision(shape.getCollisionOffset(rot),shape.getCollisionShape(rot));
}
