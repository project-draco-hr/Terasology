{
  Camera camera=CoreRegistry.get(WorldRenderer.class).getActiveCamera();
  Vector3f spawnPos=camera.getPosition();
  Vector3f offset=camera.getViewingDirection();
  offset.scale(3);
  spawnPos.add(offset);
  Block block=BlockManager.getInstance().getBlock(blockName);
  if (block == null)   return;
  Prefab prefab=CoreRegistry.get(PrefabManager.class).getPrefab("core:droppedBlock");
  if (prefab != null && prefab.getComponent(LocationComponent.class) != null) {
    EntityRef blockEntity=CoreRegistry.get(EntityManager.class).create(prefab,spawnPos);
    MeshComponent blockMesh=blockEntity.getComponent(MeshComponent.class);
    BlockPickupComponent blockPickup=blockEntity.getComponent(BlockPickupComponent.class);
    blockPickup.blockFamily=block.getBlockFamily();
    blockMesh.mesh=block.getMesh();
    blockEntity.saveComponent(blockMesh);
    blockEntity.saveComponent(blockPickup);
  }
}
