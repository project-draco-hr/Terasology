{
  List<Vector3f> targets=ai.gatherTargets;
  if ((targets == null) || (targets.size() < 1)) {
    return;
  }
  Vector3f currentTarget=targets.get(0);
  Vector3f dist=new Vector3f(worldPos);
  dist.sub(currentTarget);
  double distanceToTarget=dist.lengthSquared();
  if (distanceToTarget < 4) {
    if (timer.getTimeInMs() - ai.lastAttacktime > 500) {
      ai.lastAttacktime=timer.getTimeInMs();
      boolean attacked=attack(entity,currentTarget);
      if (!attacked) {
        ai.gatherTargets.remove(currentTarget);
      }
    }
  }
  entity.saveComponent(ai);
  setMovement(currentTarget,worldPos,entity,drive);
}
