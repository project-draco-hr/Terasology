{
  for (  EntityRef entity : entityManager.iteratorEntities(HierarchicalAIComponent.class,CharacterMovementComponent.class,LocationComponent.class)) {
    LocationComponent location=entity.getComponent(LocationComponent.class);
    Vector3f worldPos=location.getWorldPosition();
    if (!worldProvider.isBlockActive(worldPos)) {
      continue;
    }
    loop(entity,location,worldPos);
  }
}
