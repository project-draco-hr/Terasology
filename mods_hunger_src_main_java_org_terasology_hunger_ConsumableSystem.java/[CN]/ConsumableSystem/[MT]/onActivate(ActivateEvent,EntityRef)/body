{
  logger.info("Eating food: " + entity.getId());
  BlockComponent block=new BlockComponent();
  if (!entity.hasComponent(ItemComponent.class)) {
    block=entity.getComponent(BlockComponent.class);
  }
  ConsumableComponent consum=entity.getComponent(ConsumableComponent.class);
  EntityRef player=event.getInstigator();
  consum.uses-=1;
  logger.info("Food uses:" + consum.uses + " filling :"+ consum.filling);
  player.send(new EatEvent(player,consum.filling));
  if (consum.uses <= 0) {
    if (!entity.hasComponent(ItemComponent.class)) {
      Block currentBlock=worldProvider.getBlock(block.getPosition());
      worldProvider.setBlock(block.getPosition(),BlockManager.getInstance().getAir(),currentBlock);
    }
    entity.destroy();
  }
}
