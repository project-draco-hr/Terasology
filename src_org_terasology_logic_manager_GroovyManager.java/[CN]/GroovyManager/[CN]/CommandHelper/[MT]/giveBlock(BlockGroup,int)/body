{
  if (quantity < 1)   return;
  PlaceableBlockFactory factory=new PlaceableBlockFactory(Terasology.getInstance().getCurrentGameState().getEntityManager());
  EntityRef item=factory.newInstance(blockGroup);
  ItemComponent itemComp=item.getComponent(ItemComponent.class);
  itemComp.stackCount=quantity;
  InventoryComponent inventory=Terasology.getInstance().getActivePlayer().getEntity().getComponent(InventoryComponent.class);
  InventorySystem inventorySystem=CoreRegistry.get(ComponentSystemManager.class).get(InventorySystem.class);
  if (!inventorySystem.addItem(Terasology.getInstance().getActivePlayer().getEntity(),item)) {
    item.destroy();
  }
}
