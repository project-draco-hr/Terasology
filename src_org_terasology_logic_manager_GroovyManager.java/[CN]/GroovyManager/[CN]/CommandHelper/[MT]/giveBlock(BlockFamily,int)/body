{
  if (quantity < 1)   return;
  BlockItemFactory factory=new BlockItemFactory(Terasology.getInstance().getCurrentGameState().getEntityManager(),CoreRegistry.get(PrefabManager.class));
  EntityRef item=factory.newInstance(blockFamily,quantity);
  InventorySystem inventorySystem=CoreRegistry.get(ComponentSystemManager.class).get(InventorySystem.class);
  if (!inventorySystem.addItem(Terasology.getInstance().getActivePlayer().getEntity(),item)) {
    item.destroy();
  }
}
