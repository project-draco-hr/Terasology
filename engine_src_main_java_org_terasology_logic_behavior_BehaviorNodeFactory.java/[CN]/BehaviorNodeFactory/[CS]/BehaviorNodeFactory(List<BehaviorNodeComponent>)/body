{
  for (  BehaviorNodeComponent component : components) {
    ClassLoader[] classLoaders=CoreRegistry.get(ModuleManager.class).getActiveModuleReflections().getConfiguration().getClassLoaders();
    for (    ClassLoader classLoader : classLoaders) {
      try {
        Class<? extends Node> type=(Class<? extends Node>)classLoader.loadClass(component.type);
        nodes.put(type,component);
        logger.warn("Found behavior node for class " + component.type + " name="+ component.name);
        List<BehaviorNodeComponent> list=categoryComponents.get(component.category);
        if (list == null) {
          list=Lists.newArrayList();
          categoryComponents.put(component.category,list);
        }
        list.add(component);
        break;
      }
 catch (      ClassNotFoundException e) {
      }
    }
  }
  categories=Lists.newArrayList(categoryComponents.keySet());
  Collections.sort(categories);
  for (  String category : categories) {
    Collections.sort(categoryComponents.get(category),new Comparator<BehaviorNodeComponent>(){
      @Override public int compare(      BehaviorNodeComponent o1,      BehaviorNodeComponent o2){
        return o1.name.compareTo(o2.name);
      }
    }
);
  }
}
