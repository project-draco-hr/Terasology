{
  int displayList=displayLists.get(blockType);
  if (displayList == 0) {
    displayList=glGenLists(1);
    glNewList(displayList,GL11.GL_COMPILE);
    drawParticle(blockType);
    glEndList();
    displayLists.put(blockType,displayList);
  }
  Material shader=Assets.getMaterial("engine:particle");
  Vector4f color=blockType.getArchetypeBlock().calcColorOffsetFor(BlockPart.FRONT,temperature,humidity);
  shader.setFloat3("colorOffset",color.x,color.y,color.z,true);
  shader.setFloat("texOffsetX",particle.texOffset.x,true);
  shader.setFloat("texOffsetY",particle.texOffset.y,true);
  shader.setFloat("light",light,true);
  glCallList(displayList);
}
