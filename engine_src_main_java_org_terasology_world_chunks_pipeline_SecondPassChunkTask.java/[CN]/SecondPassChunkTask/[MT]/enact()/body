{
  ChunkView view=getProvider().getViewAround(getPosition());
  if (view == null) {
    return;
  }
  view.lock();
  try {
    if (!view.isValidView()) {
      return;
    }
    Chunk chunk=getProvider().getChunkForProcessing(getPosition());
    if (chunk.getChunkState() != Chunk.State.ADJACENCY_GENERATION_PENDING) {
      return;
    }
    getPipeline().getWorldGenerator().applySecondPass(getPosition(),view);
    chunk.setChunkState(Chunk.State.INTERNAL_LIGHT_GENERATION_PENDING);
    getPipeline().requestReview(Region3i.createFromCenterExtents(getPosition(),ChunkConstants.LOCAL_REGION_EXTENTS));
  }
  finally {
    view.unlock();
  }
}
